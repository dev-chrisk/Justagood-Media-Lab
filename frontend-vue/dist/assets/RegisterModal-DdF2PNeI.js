import{_ as b,b as u,e as s,F as M,p as h,l as R,o as g,t as c,a as _,i as w,r as v,j as f,f as y,k as n,m,c as k}from"./index-DpwEkaq-.js";const S={name:"MainHeader",props:{searchQuery:{type:String,default:""},gridColumns:{type:Number,default:8},sortBy:{type:String,default:"order_asc"}},emits:["update:searchQuery","update:gridColumns","update:sortBy","toggleMobileSidebar","clearSearch"]},L={class:"main-header"},V={class:"header-left"},B={class:"header-center"},q={class:"search-container"},U=["value"],F={class:"header-right"},I={class:"grid-count-container"},N=["value"],A=["value"],P={class:"sort-container"},Q=["value"];function x(t,o,d,e,i,l){return g(),u("header",L,[s("div",V,[s("button",{class:"mobile-sidebar-toggle",onClick:o[0]||(o[0]=a=>t.$emit("toggleMobileSidebar"))},"☰")]),s("div",B,[s("div",q,[s("input",{type:"text",value:d.searchQuery,onInput:o[1]||(o[1]=a=>t.$emit("update:searchQuery",a.target.value)),placeholder:"Search..."},null,40,U),s("button",{class:"search-clear",onClick:o[2]||(o[2]=a=>t.$emit("clearSearch"))},"×")])]),s("div",F,[s("div",I,[o[5]||(o[5]=s("label",{class:"columns-label"},"Columns:",-1)),s("select",{value:d.gridColumns,onChange:o[3]||(o[3]=a=>t.$emit("update:gridColumns",parseInt(a.target.value)))},[(g(),u(M,null,h(12,a=>s("option",{key:a,value:a},c(a),9,A)),64))],40,N)]),s("div",P,[s("select",{value:d.sortBy,onChange:o[4]||(o[4]=a=>t.$emit("update:sortBy",a.target.value))},[...o[6]||(o[6]=[R('<option value="order_asc" data-v-38c999eb>Original order ↑</option><option value="order_desc" data-v-38c999eb>Original order ↓</option><option value="title_asc" data-v-38c999eb>Title A-Z</option><option value="title_desc" data-v-38c999eb>Title Z-A</option><option value="release_asc" data-v-38c999eb>Release ↑</option><option value="release_desc" data-v-38c999eb>Release ↓</option><option value="rating_asc" data-v-38c999eb>Rating ↑</option><option value="rating_desc" data-v-38c999eb>Rating ↓</option><option value="airing_desc" data-v-38c999eb>Airing first</option><option value="airing_asc" data-v-38c999eb>Finished first</option>',10)])],40,Q)])])])}const uo=b(S,[["render",x],["__scopeId","data-v-38c999eb"]]),E={name:"LoginModal",emits:["close","success"],setup(t,{emit:o}){const d=_(),e=w({email:"",password:""}),i=v(!1),l=v("");return{form:e,loading:i,error:l,handleLogin:async()=>{i.value=!0,l.value="";try{const r=await d.login(e.email,e.password);r.success?o("success",r):l.value=r.error}catch(r){l.value=r.message||"Login failed"}finally{i.value=!1}},closeModal:()=>{o("close")}}}},T={class:"form-group"},D=["disabled"],H={class:"form-group"},O=["disabled"],Z={key:0,class:"error-message"},j={class:"modal-buttons"},z=["disabled"],G=["disabled"];function J(t,o,d,e,i,l){return g(),u("div",{class:"modal",onClick:o[5]||(o[5]=(...a)=>e.closeModal&&e.closeModal(...a))},[s("div",{class:"modal-content auth-modal",onClick:o[4]||(o[4]=f(()=>{},["stop"]))},[o[8]||(o[8]=s("h2",null,"Login",-1)),s("form",{onSubmit:o[3]||(o[3]=f((...a)=>e.handleLogin&&e.handleLogin(...a),["prevent"]))},[s("div",T,[o[6]||(o[6]=s("label",{for:"email"},"Email:",-1)),n(s("input",{type:"email",id:"email","onUpdate:modelValue":o[0]||(o[0]=a=>e.form.email=a),required:"",disabled:e.loading},null,8,D),[[m,e.form.email]])]),s("div",H,[o[7]||(o[7]=s("label",{for:"password"},"Password:",-1)),n(s("input",{type:"password",id:"password","onUpdate:modelValue":o[1]||(o[1]=a=>e.form.password=a),required:"",disabled:e.loading},null,8,O),[[m,e.form.password]])]),e.error?(g(),u("div",Z,c(e.error),1)):y("",!0),s("div",j,[s("button",{type:"submit",disabled:e.loading},c(e.loading?"Logging in...":"Login"),9,z),s("button",{type:"button",onClick:o[2]||(o[2]=(...a)=>e.closeModal&&e.closeModal(...a)),disabled:e.loading}," Cancel ",8,G)])],32)])])}const go=b(E,[["render",J],["__scopeId","data-v-f686f260"]]),K={name:"RegisterModal",emits:["close","success"],setup(t,{emit:o}){const d=_(),e=w({name:"",email:"",password:"",passwordConfirm:""}),i=v(!1),l=v(""),a=k(()=>e.name&&e.email&&e.password&&e.passwordConfirm&&e.password===e.passwordConfirm&&e.password.length>=8);return{form:e,loading:i,error:l,isFormValid:a,handleRegister:async()=>{if(!a.value){l.value="Please fill in all fields and ensure passwords match";return}i.value=!0,l.value="";try{const p=await d.register(e.name,e.email,e.password,e.passwordConfirm);p.success?o("success"):l.value=p.error}catch(p){l.value=p.message||"Registration failed"}finally{i.value=!1}},closeModal:()=>{o("close")}}}},W={class:"form-group"},X=["disabled"],Y={class:"form-group"},$=["disabled"],oo={class:"form-group"},eo=["disabled"],so={class:"form-group"},ao=["disabled"],lo={key:0,class:"error-message"},io={class:"modal-buttons"},to=["disabled"],ro=["disabled"];function no(t,o,d,e,i,l){return g(),u("div",{class:"modal",onClick:o[7]||(o[7]=(...a)=>e.closeModal&&e.closeModal(...a))},[s("div",{class:"modal-content auth-modal",onClick:o[6]||(o[6]=f(()=>{},["stop"]))},[o[12]||(o[12]=s("h2",null,"Register",-1)),s("form",{onSubmit:o[5]||(o[5]=f((...a)=>e.handleRegister&&e.handleRegister(...a),["prevent"]))},[s("div",W,[o[8]||(o[8]=s("label",{for:"name"},"Name:",-1)),n(s("input",{type:"text",id:"name","onUpdate:modelValue":o[0]||(o[0]=a=>e.form.name=a),required:"",disabled:e.loading},null,8,X),[[m,e.form.name]])]),s("div",Y,[o[9]||(o[9]=s("label",{for:"email"},"Email:",-1)),n(s("input",{type:"email",id:"email","onUpdate:modelValue":o[1]||(o[1]=a=>e.form.email=a),required:"",disabled:e.loading},null,8,$),[[m,e.form.email]])]),s("div",oo,[o[10]||(o[10]=s("label",{for:"password"},"Password:",-1)),n(s("input",{type:"password",id:"password","onUpdate:modelValue":o[2]||(o[2]=a=>e.form.password=a),required:"",minlength:"8",disabled:e.loading},null,8,eo),[[m,e.form.password]])]),s("div",so,[o[11]||(o[11]=s("label",{for:"passwordConfirm"},"Confirm Password:",-1)),n(s("input",{type:"password",id:"passwordConfirm","onUpdate:modelValue":o[3]||(o[3]=a=>e.form.passwordConfirm=a),required:"",minlength:"8",disabled:e.loading},null,8,ao),[[m,e.form.passwordConfirm]])]),e.error?(g(),u("div",lo,c(e.error),1)):y("",!0),s("div",io,[s("button",{type:"submit",disabled:e.loading||!e.isFormValid},c(e.loading?"Registering...":"Register"),9,to),s("button",{type:"button",onClick:o[4]||(o[4]=(...a)=>e.closeModal&&e.closeModal(...a)),disabled:e.loading}," Cancel ",8,ro)])],32)])])}const co=b(K,[["render",no],["__scopeId","data-v-d5de55ea"]]);export{go as L,uo as M,co as R};
