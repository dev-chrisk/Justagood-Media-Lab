import{_ as ye,b as c,e as n,z as W,A as Y,f as D,n as G,B as b,t as v,F as k,l as L,a as fe,r as g,c as d,C as Se,u as Me,o as l}from"./index-BY0Ze0GP.js";import{R as De,L as be,M as Ce,S as _e}from"./RegisterModal-D7ZXmiVm.js";import{u as Te}from"./media-BB19quE1.js";const we={name:"Calendar",components:{Sidebar:_e,MainHeader:Ce,LoginModal:be,RegisterModal:De},setup(){const C=Me(),t=fe();Te();const h=g(!1),e=g(!1),y=g(!1),f=g(!1),S=g(""),_=g(4),T=g("title"),r=g(new Date),o=g(null),m=g(!1),O=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],U=d(()=>t.isLoggedIn),I=d(()=>{var a;return((a=t.user)==null?void 0:a.name)||""}),Q=d(()=>"calendar"),H=d(()=>({})),V=d(()=>[]),p=d(()=>[]),q=d(()=>[{key:"game",name:"Games",icon:"🎮"},{key:"series",name:"Series",icon:"📺"},{key:"movie",name:"Movies",icon:"🎬"},{key:"watchlist",name:"Watchlist",icon:"❤️"}]),R=d(()=>r.value.getFullYear()),F=d(()=>r.value.getMonth()),z=d(()=>r.value.toLocaleDateString("en-US",{month:"long"})),N=d(()=>{const a=R.value,s=F.value,u=new Date(a,s,1),M=new Date(u),x=u.getDay(),ge=x===0?6:x-1;M.setDate(M.getDate()-ge);const E=[],ue=new Date;for(let w=0;w<42;w++){const i=new Date(M);i.setDate(M.getDate()+w);const ve=i.getMonth()===s,me=i.toDateString()===ue.toDateString(),he=i.getDay()===0||i.getDay()===6;E.push({date:i.getDate(),month:i.getMonth(),year:i.getFullYear(),fullDate:new Date(i),isCurrentMonth:ve,isToday:me,isWeekend:he,hasEvents:B(i),events:P(i)})}return E}),A=()=>{h.value=!h.value},j=()=>{e.value=!e.value},J=()=>{e.value=!1},K=()=>{},X=()=>{S.value=""},Z=()=>{C.push("/statistics"),e.value=!1},$=()=>{},ee=()=>{C.push("/profile"),e.value=!1},oe=()=>{},te=()=>{},ne=()=>{t.logout()},ae=()=>{y.value=!1,f.value=!0},se=()=>{y.value=!1},le=()=>{f.value=!1},re=()=>{m.value=!0,r.value=new Date(r.value.getFullYear(),r.value.getMonth()-1,1),o.value=null,setTimeout(()=>{m.value=!1},150)},ie=()=>{m.value=!0,r.value=new Date(r.value.getFullYear(),r.value.getMonth()+1,1),o.value=null,setTimeout(()=>{m.value=!1},150)},ce=a=>{a.isCurrentMonth&&(o.value=a)},de=a=>a.fullDate.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),B=a=>{const s=a.getDate();return a.getMonth(),s%7===0||s===15||s===25},P=a=>{const s=a.getDate(),u=[];return s%7===0&&u.push({id:1,title:"Weekly Review",time:"10:00"}),s===15&&u.push({id:2,title:"Team Meeting",time:"14:00"}),s===25&&u.push({id:3,title:"Project Deadline",time:"17:00"}),u};return Se(()=>{const a=N.value.find(s=>s.isToday&&s.isCurrentMonth);a&&(o.value=a)}),{sidebarCollapsed:h,mobileSidebarOpen:e,showLoginModal:y,showRegisterModal:f,searchQuery:S,gridColumns:_,sortBy:T,currentDate:r,selectedDay:o,isLoading:m,weekdays:O,isLoggedIn:U,userName:I,currentCategory:Q,categoryCounts:H,platforms:V,genres:p,categories:q,currentYear:R,currentMonth:F,currentMonthName:z,calendarDays:N,toggleSidebar:A,toggleMobileSidebar:j,closeMobileSidebar:J,setCategory:K,clearSearch:X,navigateToStatistics:Z,navigateToCalendar:$,navigateToProfile:ee,togglePlatformFilter:oe,toggleGenreFilter:te,logout:ne,switchToRegister:ae,handleLoginSuccess:se,handleRegisterSuccess:le,previousMonth:re,nextMonth:ie,selectDay:ce,formatSelectedDay:de,hasEventsForDate:B,getEventsForDate:P}}},ke={class:"vue-app"},Le={class:"main-content"},Re={class:"content-area"},Fe={class:"calendar-view"},Ne={class:"calendar-header"},Be=["disabled"],Pe={class:"month-year-display"},xe={class:"month-name"},Ee={class:"year"},We=["disabled"],Ye={class:"calendar-container"},Ge={class:"calendar-grid"},Oe=["onClick"],Ue={class:"day-number"},Ie={key:0,class:"event-indicator"},Qe={key:0,class:"selected-day-info"},He={class:"day-events"},Ve={key:0,class:"no-events"},pe={key:1,class:"events-list"},qe={class:"event-time"},ze={class:"event-title"};function Ae(C,t,h,e,y,f){const S=b("Sidebar"),_=b("MainHeader"),T=b("LoginModal"),r=b("RegisterModal");return l(),c("div",ke,[n("div",{class:G(["mobile-overlay",{show:e.mobileSidebarOpen}]),onClick:t[0]||(t[0]=(...o)=>e.closeMobileSidebar&&e.closeMobileSidebar(...o))},null,2),W(S,{collapsed:e.sidebarCollapsed,"mobile-open":e.mobileSidebarOpen,"is-logged-in":e.isLoggedIn,"user-name":e.userName,"current-category":e.currentCategory,"category-counts":e.categoryCounts,platforms:e.platforms,genres:e.genres,categories:e.categories,onToggle:e.toggleSidebar,onSetCategory:e.setCategory,onNavigateToStatistics:e.navigateToStatistics,onNavigateToCalendar:e.navigateToCalendar,onNavigateToProfile:e.navigateToProfile,onTogglePlatformFilter:e.togglePlatformFilter,onToggleGenreFilter:e.toggleGenreFilter,onShowLogin:t[1]||(t[1]=o=>e.showLoginModal=!0),onShowRegister:t[2]||(t[2]=o=>e.showRegisterModal=!0),onLogout:e.logout},null,8,["collapsed","mobile-open","is-logged-in","user-name","current-category","category-counts","platforms","genres","categories","onToggle","onSetCategory","onNavigateToStatistics","onNavigateToCalendar","onNavigateToProfile","onTogglePlatformFilter","onToggleGenreFilter","onLogout"]),n("div",Le,[W(_,{"search-query":e.searchQuery,"onUpdate:searchQuery":t[3]||(t[3]=o=>e.searchQuery=o),"grid-columns":e.gridColumns,"onUpdate:gridColumns":t[4]||(t[4]=o=>e.gridColumns=o),"sort-by":e.sortBy,"onUpdate:sortBy":t[5]||(t[5]=o=>e.sortBy=o),onToggleMobileSidebar:e.toggleMobileSidebar,onClearSearch:e.clearSearch},null,8,["search-query","grid-columns","sort-by","onToggleMobileSidebar","onClearSearch"]),n("main",Re,[n("div",Fe,[n("div",Ne,[n("button",{class:"month-nav-btn",onClick:t[6]||(t[6]=(...o)=>e.previousMonth&&e.previousMonth(...o)),disabled:e.isLoading},[...t[10]||(t[10]=[n("span",{class:"nav-icon"},"‹",-1)])],8,Be),n("div",Pe,[n("h2",xe,v(e.currentMonthName),1),n("span",Ee,v(e.currentYear),1)]),n("button",{class:"month-nav-btn",onClick:t[7]||(t[7]=(...o)=>e.nextMonth&&e.nextMonth(...o)),disabled:e.isLoading},[...t[11]||(t[11]=[n("span",{class:"nav-icon"},"›",-1)])],8,We)]),n("div",Ye,[n("div",Ge,[(l(!0),c(k,null,L(e.weekdays,o=>(l(),c("div",{class:"weekday-header",key:o},v(o),1))),128)),(l(!0),c(k,null,L(e.calendarDays,o=>(l(),c("div",{key:`${o.date}-${o.month}`,class:G(["calendar-day",{"other-month":!o.isCurrentMonth,today:o.isToday,weekend:o.isWeekend,"has-events":o.hasEvents}]),onClick:m=>e.selectDay(o)},[n("span",Ue,v(o.day),1),o.hasEvents?(l(),c("div",Ie,[...t[12]||(t[12]=[n("div",{class:"event-dot"},null,-1)])])):D("",!0)],10,Oe))),128))])]),e.selectedDay?(l(),c("div",Qe,[n("h3",null,v(e.formatSelectedDay(e.selectedDay)),1),n("div",He,[!e.selectedDay.events||e.selectedDay.events.length===0?(l(),c("p",Ve," No events scheduled for this day ")):(l(),c("div",pe,[(l(!0),c(k,null,L(e.selectedDay.events,o=>(l(),c("div",{key:o.id,class:"event-item"},[n("span",qe,v(o.time),1),n("span",ze,v(o.title),1)]))),128))]))])])):D("",!0)])])]),e.showLoginModal?(l(),Y(T,{key:0,onClose:t[8]||(t[8]=o=>e.showLoginModal=!1),onSwitchToRegister:e.switchToRegister,onLoginSuccess:e.handleLoginSuccess},null,8,["onSwitchToRegister","onLoginSuccess"])):D("",!0),e.showRegisterModal?(l(),Y(r,{key:1,onClose:t[9]||(t[9]=o=>e.showRegisterModal=!1),onRegisterSuccess:e.handleRegisterSuccess},null,8,["onRegisterSuccess"])):D("",!0)])}const Xe=ye(we,[["render",Ae],["__scopeId","data-v-e06f31be"]]);export{Xe as default};
