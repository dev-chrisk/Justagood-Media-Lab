import{_ as ve,b as c,e as n,D as W,p as Y,f as M,n as G,z as D,t as v,F as w,x as k,a as me,r as g,c as d,j as he,u as ye,o as r}from"./index-Bk3ZaZcl.js";import{S as Se,u as fe,a as Me}from"./Sidebar-Cs8lF71h.js";import{R as De,L as be,M as Ce}from"./RegisterModal-CPwYZU_9.js";const _e={name:"Calendar",components:{Sidebar:Se,MainHeader:Ce,LoginModal:be,RegisterModal:De},setup(){const T=ye(),t=me(),L=fe(),e=Me(),h=g(!1),y=g(!1),S=g(""),b=g(4),C=g("title"),l=g(new Date),o=g(null),m=g(!1),U=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],I=d(()=>t.isLoggedIn),O=d(()=>{var s;return((s=t.user)==null?void 0:s.name)||""}),Q=d(()=>"calendar"),H=d(()=>({})),V=d(()=>[]),j=d(()=>[]),q=d(()=>[{key:"game",name:"Games",icon:"🎮"},{key:"series",name:"Series",icon:"📺"},{key:"movie",name:"Movies",icon:"🎬"},{key:"watchlist",name:"Watchlist",icon:"❤️"}]),F=d(()=>l.value.getFullYear()),R=d(()=>l.value.getMonth()),z=d(()=>l.value.toLocaleDateString("en-US",{month:"long"})),N=d(()=>{const s=F.value,a=R.value,u=new Date(s,a,1),f=new Date(u),x=u.getDay(),ie=x===0?6:x-1;f.setDate(f.getDate()-ie);const E=[],ce=new Date;for(let _=0;_<42;_++){const i=new Date(f);i.setDate(f.getDate()+_);const de=i.getMonth()===a,ge=i.toDateString()===ce.toDateString(),ue=i.getDay()===0||i.getDay()===6;E.push({date:i.getDate(),month:i.getMonth(),year:i.getFullYear(),fullDate:new Date(i),isCurrentMonth:de,isToday:ge,isWeekend:ue,hasEvents:P(i),events:B(i)})}return E}),A=()=>{},p=()=>{S.value=""},J=()=>{},K=()=>{T.push("/profile"),e.closeMobileSidebar()},X=()=>{},Z=()=>{},$=()=>{L.clearFilters()},ee=()=>{t.logout()},oe=()=>{h.value=!1,y.value=!0},te=()=>{h.value=!1},ne=()=>{y.value=!1},se=()=>{m.value=!0,l.value=new Date(l.value.getFullYear(),l.value.getMonth()-1,1),o.value=null,setTimeout(()=>{m.value=!1},150)},ae=()=>{m.value=!0,l.value=new Date(l.value.getFullYear(),l.value.getMonth()+1,1),o.value=null,setTimeout(()=>{m.value=!1},150)},re=s=>{s.isCurrentMonth&&(o.value=s)},le=s=>s.fullDate.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),P=s=>{const a=s.getDate();return s.getMonth(),a%7===0||a===15||a===25},B=s=>{const a=s.getDate(),u=[];return a%7===0&&u.push({id:1,title:"Weekly Review",time:"10:00"}),a===15&&u.push({id:2,title:"Team Meeting",time:"14:00"}),a===25&&u.push({id:3,title:"Project Deadline",time:"17:00"}),u};return he(()=>{const s=N.value.find(a=>a.isToday&&a.isCurrentMonth);s&&(o.value=s)}),{showLoginModal:h,showRegisterModal:y,searchQuery:S,gridColumns:b,sortBy:C,currentDate:l,selectedDay:o,isLoading:m,weekdays:U,isLoggedIn:I,userName:O,currentCategory:Q,categoryCounts:H,platforms:V,genres:j,categories:q,currentYear:F,currentMonth:R,currentMonthName:z,calendarDays:N,setCategory:A,clearSearch:p,navigateToCalendar:J,navigateToProfile:K,togglePlatformFilter:X,toggleGenreFilter:Z,clearFilters:$,logout:ee,switchToRegister:oe,handleLoginSuccess:te,handleRegisterSuccess:ne,previousMonth:se,nextMonth:ae,selectDay:re,formatSelectedDay:le,hasEventsForDate:P,getEventsForDate:B,sidebarStore:e}}},we={class:"vue-app"},ke={class:"main-content"},Te={class:"content-area"},Le={class:"calendar-view"},Fe={class:"calendar-header"},Re=["disabled"],Ne={class:"month-year-display"},Pe={class:"month-name"},Be={class:"year"},xe=["disabled"],Ee={class:"calendar-container"},We={class:"calendar-grid"},Ye=["onClick"],Ge={class:"day-number"},Ue={key:0,class:"event-indicator"},Ie={key:0,class:"selected-day-info"},Oe={class:"day-events"},Qe={key:0,class:"no-events"},He={key:1,class:"events-list"},Ve={class:"event-time"},je={class:"event-title"};function qe(T,t,L,e,h,y){const S=D("Sidebar"),b=D("MainHeader"),C=D("LoginModal"),l=D("RegisterModal");return r(),c("div",we,[n("div",{class:G(["mobile-overlay",{show:e.sidebarStore.mobileOpen}]),onClick:t[0]||(t[0]=(...o)=>e.sidebarStore.closeMobileSidebar&&e.sidebarStore.closeMobileSidebar(...o))},null,2),W(S,{collapsed:e.sidebarStore.collapsed,"mobile-open":e.sidebarStore.mobileOpen,"is-logged-in":e.isLoggedIn,"user-name":e.userName,"current-category":e.currentCategory,"category-counts":e.categoryCounts,platforms:e.platforms,genres:e.genres,categories:e.categories,onToggle:e.sidebarStore.toggleSidebar,onSetCategory:e.setCategory,onNavigateToCalendar:e.navigateToCalendar,onNavigateToProfile:e.navigateToProfile,onTogglePlatformFilter:e.togglePlatformFilter,onToggleGenreFilter:e.toggleGenreFilter,onClearFilters:e.clearFilters,onShowLogin:t[1]||(t[1]=o=>e.showLoginModal=!0),onShowRegister:t[2]||(t[2]=o=>e.showRegisterModal=!0),onLogout:e.logout},null,8,["collapsed","mobile-open","is-logged-in","user-name","current-category","category-counts","platforms","genres","categories","onToggle","onSetCategory","onNavigateToCalendar","onNavigateToProfile","onTogglePlatformFilter","onToggleGenreFilter","onClearFilters","onLogout"]),n("div",ke,[W(b,{"search-query":e.searchQuery,"onUpdate:searchQuery":t[3]||(t[3]=o=>e.searchQuery=o),"grid-columns":e.gridColumns,"onUpdate:gridColumns":t[4]||(t[4]=o=>e.gridColumns=o),"sort-by":e.sortBy,"onUpdate:sortBy":t[5]||(t[5]=o=>e.sortBy=o),onToggleMobileSidebar:e.sidebarStore.toggleMobileSidebar,onClearSearch:e.clearSearch},null,8,["search-query","grid-columns","sort-by","onToggleMobileSidebar","onClearSearch"]),n("main",Te,[n("div",Le,[n("div",Fe,[n("button",{class:"month-nav-btn",onClick:t[6]||(t[6]=(...o)=>e.previousMonth&&e.previousMonth(...o)),disabled:e.isLoading},[...t[10]||(t[10]=[n("span",{class:"nav-icon"},"‹",-1)])],8,Re),n("div",Ne,[n("h2",Pe,v(e.currentMonthName),1),n("span",Be,v(e.currentYear),1)]),n("button",{class:"month-nav-btn",onClick:t[7]||(t[7]=(...o)=>e.nextMonth&&e.nextMonth(...o)),disabled:e.isLoading},[...t[11]||(t[11]=[n("span",{class:"nav-icon"},"›",-1)])],8,xe)]),n("div",Ee,[n("div",We,[(r(!0),c(w,null,k(e.weekdays,o=>(r(),c("div",{class:"weekday-header",key:o},v(o),1))),128)),(r(!0),c(w,null,k(e.calendarDays,o=>(r(),c("div",{key:`${o.date}-${o.month}`,class:G(["calendar-day",{"other-month":!o.isCurrentMonth,today:o.isToday,weekend:o.isWeekend,"has-events":o.hasEvents}]),onClick:m=>e.selectDay(o)},[n("span",Ge,v(o.day),1),o.hasEvents?(r(),c("div",Ue,[...t[12]||(t[12]=[n("div",{class:"event-dot"},null,-1)])])):M("",!0)],10,Ye))),128))])]),e.selectedDay?(r(),c("div",Ie,[n("h3",null,v(e.formatSelectedDay(e.selectedDay)),1),n("div",Oe,[!e.selectedDay.events||e.selectedDay.events.length===0?(r(),c("p",Qe," No events scheduled for this day ")):(r(),c("div",He,[(r(!0),c(w,null,k(e.selectedDay.events,o=>(r(),c("div",{key:o.id,class:"event-item"},[n("span",Ve,v(o.time),1),n("span",je,v(o.title),1)]))),128))]))])])):M("",!0)])])]),e.showLoginModal?(r(),Y(C,{key:0,onClose:t[8]||(t[8]=o=>e.showLoginModal=!1),onSwitchToRegister:e.switchToRegister,onLoginSuccess:e.handleLoginSuccess},null,8,["onSwitchToRegister","onLoginSuccess"])):M("",!0),e.showRegisterModal?(r(),Y(l,{key:1,onClose:t[9]||(t[9]=o=>e.showRegisterModal=!1),onRegisterSuccess:e.handleRegisterSuccess},null,8,["onRegisterSuccess"])):M("",!0)])}const Je=ve(_e,[["render",qe],["__scopeId","data-v-b0f0b841"]]);export{Je as default};
