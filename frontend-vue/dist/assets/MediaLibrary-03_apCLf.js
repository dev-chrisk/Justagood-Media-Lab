import{_ as T,c as r,a as t,b as v,t as g,w as S,o as a,r as N,d as p,e as c,v as b,f as k,g as z,h as P,i as Z,F as L,j as R,k as E,l as W,n as D,m as he,p as Ce,q as F,u as Se}from"./index-z1QHRkF6.js";import{u as B}from"./auth-RhgKeeQo.js";import{m as _e,u as Ie}from"./media-B7xhEs5K.js";const xe={name:"MediaItem",props:{item:{type:Object,required:!0}},emits:["edit","delete"],methods:{getImageUrl(f){return f.startsWith("http")||f.startsWith("/")?f:`/storage/${f}`},handleImageError(f){var e;f.target.style.display="none",(e=f.target.nextElementSibling)==null||e.classList.add("show")},formatDate(f){return f?new Date(f).toLocaleDateString():""},showDetails(){console.log("Show details for:",this.item.title)},editItem(){this.$emit("edit",this.item)},deleteItem(){this.$emit("delete",this.item)}}},Le={class:"media-image"},Re=["src","alt"],Ae={key:1,class:"no-image"},Ue={class:"media-info"},Ve={class:"media-title"},Te={class:"media-meta"},Ee={key:0,class:"media-release"},Fe={key:1,class:"media-rating"},Pe={key:0,class:"media-platforms"},De={key:1,class:"media-genre"},ze={key:2,class:"media-airing"},Ne={key:0},Be={class:"media-actions"};function qe(f,e,i,o,u,d){return a(),r("div",{class:"media-item",onClick:e[3]||(e[3]=(...s)=>d.showDetails&&d.showDetails(...s))},[t("div",Le,[i.item.path?(a(),r("img",{key:0,src:d.getImageUrl(i.item.path),alt:i.item.title,onError:e[0]||(e[0]=(...s)=>d.handleImageError&&d.handleImageError(...s))},null,40,Re)):(a(),r("div",Ae,[...e[4]||(e[4]=[t("span",{class:"no-image-icon"},"📁",-1)])]))]),t("div",Ue,[t("h3",Ve,g(i.item.title),1),t("div",Te,[i.item.release?(a(),r("span",Ee,g(d.formatDate(i.item.release)),1)):v("",!0),i.item.rating?(a(),r("span",Fe,g("★".repeat(Math.max(0,Math.min(5,Math.floor(i.item.rating)))))+g("☆".repeat(Math.max(0,5-Math.max(0,Math.min(5,Math.floor(i.item.rating)))))),1)):v("",!0)]),i.item.platforms?(a(),r("div",Pe,g(i.item.platforms),1)):v("",!0),i.item.genre?(a(),r("div",De,g(i.item.genre),1)):v("",!0),i.item.isAiring?(a(),r("div",ze,[e[5]||(e[5]=t("span",{class:"airing-badge"},"Airing",-1)),i.item.nextSeason?(a(),r("span",Ne,"S"+g(i.item.nextSeason),1)):v("",!0)])):v("",!0)]),t("div",Be,[t("button",{class:"action-btn edit-btn",onClick:e[1]||(e[1]=S((...s)=>d.editItem&&d.editItem(...s),["stop"])),title:"Edit"}," ✏️ "),t("button",{class:"action-btn delete-btn",onClick:e[2]||(e[2]=S((...s)=>d.deleteItem&&d.deleteItem(...s),["stop"])),title:"Delete"}," 🗑️ ")])])}const Ge=T(xe,[["render",qe],["__scopeId","data-v-dd760f69"]]),je={name:"LoginModal",emits:["close","success"],setup(f,{emit:e}){const i=B(),o=N({email:"",password:""}),u=p(!1),d=p("");return{form:o,loading:u,error:d,handleLogin:async()=>{u.value=!0,d.value="";try{const y=await i.login(o.email,o.password);y.success?e("success"):d.value=y.error}catch(y){d.value=y.message||"Login failed"}finally{u.value=!1}},closeModal:()=>{e("close")}}}},Oe={class:"form-group"},Qe=["disabled"],We={class:"form-group"},Ze=["disabled"],Xe={key:0,class:"error-message"},He={class:"modal-buttons"},Je=["disabled"],Ke=["disabled"];function Ye(f,e,i,o,u,d){return a(),r("div",{class:"modal",onClick:e[5]||(e[5]=(...s)=>o.closeModal&&o.closeModal(...s))},[t("div",{class:"modal-content auth-modal",onClick:e[4]||(e[4]=S(()=>{},["stop"]))},[e[8]||(e[8]=t("h2",null,"Login",-1)),t("form",{onSubmit:e[3]||(e[3]=S((...s)=>o.handleLogin&&o.handleLogin(...s),["prevent"]))},[t("div",Oe,[e[6]||(e[6]=t("label",{for:"email"},"Email:",-1)),c(t("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=s=>o.form.email=s),required:"",disabled:o.loading},null,8,Qe),[[b,o.form.email]])]),t("div",We,[e[7]||(e[7]=t("label",{for:"password"},"Password:",-1)),c(t("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=s=>o.form.password=s),required:"",disabled:o.loading},null,8,Ze),[[b,o.form.password]])]),o.error?(a(),r("div",Xe,g(o.error),1)):v("",!0),t("div",He,[t("button",{type:"submit",disabled:o.loading},g(o.loading?"Logging in...":"Login"),9,Je),t("button",{type:"button",onClick:e[2]||(e[2]=(...s)=>o.closeModal&&o.closeModal(...s)),disabled:o.loading}," Cancel ",8,Ke)])],32)])])}const $e=T(je,[["render",Ye],["__scopeId","data-v-46772b29"]]),eo={name:"RegisterModal",emits:["close","success"],setup(f,{emit:e}){const i=B(),o=N({name:"",email:"",password:"",passwordConfirm:""}),u=p(!1),d=p(""),s=k(()=>o.name&&o.email&&o.password&&o.passwordConfirm&&o.password===o.passwordConfirm&&o.password.length>=8);return{form:o,loading:u,error:d,isFormValid:s,handleRegister:async()=>{if(!s.value){d.value="Please fill in all fields and ensure passwords match";return}u.value=!0,d.value="";try{const w=await i.register(o.name,o.email,o.password,o.passwordConfirm);w.success?e("success"):d.value=w.error}catch(w){d.value=w.message||"Registration failed"}finally{u.value=!1}},closeModal:()=>{e("close")}}}},oo={class:"form-group"},to=["disabled"],so={class:"form-group"},lo=["disabled"],io={class:"form-group"},no=["disabled"],ao={class:"form-group"},ro=["disabled"],mo={key:0,class:"error-message"},go={class:"modal-buttons"},uo=["disabled"],fo=["disabled"];function co(f,e,i,o,u,d){return a(),r("div",{class:"modal",onClick:e[7]||(e[7]=(...s)=>o.closeModal&&o.closeModal(...s))},[t("div",{class:"modal-content auth-modal",onClick:e[6]||(e[6]=S(()=>{},["stop"]))},[e[12]||(e[12]=t("h2",null,"Register",-1)),t("form",{onSubmit:e[5]||(e[5]=S((...s)=>o.handleRegister&&o.handleRegister(...s),["prevent"]))},[t("div",oo,[e[8]||(e[8]=t("label",{for:"name"},"Name:",-1)),c(t("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=s=>o.form.name=s),required:"",disabled:o.loading},null,8,to),[[b,o.form.name]])]),t("div",so,[e[9]||(e[9]=t("label",{for:"email"},"Email:",-1)),c(t("input",{type:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=s=>o.form.email=s),required:"",disabled:o.loading},null,8,lo),[[b,o.form.email]])]),t("div",io,[e[10]||(e[10]=t("label",{for:"password"},"Password:",-1)),c(t("input",{type:"password",id:"password","onUpdate:modelValue":e[2]||(e[2]=s=>o.form.password=s),required:"",minlength:"8",disabled:o.loading},null,8,no),[[b,o.form.password]])]),t("div",ao,[e[11]||(e[11]=t("label",{for:"passwordConfirm"},"Confirm Password:",-1)),c(t("input",{type:"password",id:"passwordConfirm","onUpdate:modelValue":e[3]||(e[3]=s=>o.form.passwordConfirm=s),required:"",minlength:"8",disabled:o.loading},null,8,ro),[[b,o.form.passwordConfirm]])]),o.error?(a(),r("div",mo,g(o.error),1)):v("",!0),t("div",go,[t("button",{type:"submit",disabled:o.loading||!o.isFormValid},g(o.loading?"Registering...":"Register"),9,uo),t("button",{type:"button",onClick:e[4]||(e[4]=(...s)=>o.closeModal&&o.closeModal(...s)),disabled:o.loading}," Cancel ",8,fo)])],32)])])}const vo=T(eo,[["render",co],["__scopeId","data-v-d5de55ea"]]),bo={name:"EditModal",props:{item:{type:Object,default:null}},emits:["close","save"],setup(f,{emit:e}){const i=p(!1),o=p(""),u=p([]),d=p(null),s=N({category:"game",title:"",release:"",rating:"",count:"",platforms:"",genre:"",link:"",path:"",discovered:"",spielzeit:"",isAiring:!1,nextSeason:"",nextSeasonRelease:"",imageUrl:""}),h=k(()=>!!f.item),y=k(()=>s.category==="game"||s.category==="games_new"),w=k(()=>s.category==="series"||s.category==="series_new");return z(()=>f.item,n=>{n?Object.keys(s).forEach(C=>{s[C]=n[C]||""}):Object.keys(s).forEach(C=>{s[C]=C==="category"?"game":""})},{immediate:!0}),{form:s,loading:i,error:o,apiResults:u,isEditing:h,isGame:y,isSeries:w,handleSave:async()=>{if(!s.title){o.value="Title is required";return}i.value=!0,o.value="";try{const n={...s};Object.keys(n).forEach(C=>{n[C]===""&&(n[C]=null)}),n.rating&&(n.rating=parseFloat(n.rating)),n.count&&(n.count=parseInt(n.count)),n.spielzeit&&(n.spielzeit=parseInt(n.spielzeit)),n.nextSeason&&(n.nextSeason=parseInt(n.nextSeason)),e("save",n)}catch(n){o.value=n.message||"Failed to save item"}finally{i.value=!1}},closeModal:()=>{e("close")},searchApi:async()=>{if(d.value&&clearTimeout(d.value),!s.title||s.title.length<3){u.value=[];return}d.value=setTimeout(async()=>{try{const n=await _e.fetchApiData(s.title,s.category);n&&n.success?u.value=[n]:u.value=[{title:`"${s.title}" - API nicht verfügbar`,release:"",genre:"Bitte manuell ausfüllen",isPlaceholder:!0}]}catch(n){console.error("API search failed:",n),u.value=[{title:`"${s.title}" - API nicht verfügbar`,release:"",genre:"Bitte manuell ausfüllen",isPlaceholder:!0}]}},500)},selectApiResult:n=>{if(n.isPlaceholder){u.value=[];return}s.title=n.title,n.release&&(s.release=n.release),n.platforms&&(s.platforms=n.platforms),n.genre&&(s.genre=n.genre),n.link&&(s.link=n.link),n.path&&(s.path=n.path),n.imageUrl&&(s.imageUrl=n.imageUrl),u.value=[]},formatDate:n=>n?new Date(n).toLocaleDateString():""}}},yo={class:"form-row"},po={class:"form-group"},wo={class:"form-row"},ko={class:"form-group"},Mo={class:"search-container"},ho=["disabled"],Co={key:0,class:"search-results"},So=["onClick"],_o={class:"result-title"},Io={class:"result-meta"},xo={key:0},Lo={key:1},Ro={class:"form-row"},Ao={class:"form-group"},Uo={class:"form-group"},Vo={class:"form-row"},To={class:"form-group"},Eo={class:"form-group"},Fo={class:"form-row"},Po={class:"form-group"},Do={class:"form-group"},zo={class:"form-row"},No={class:"form-group"},Bo={class:"form-group"},qo={key:0,class:"form-row"},Go={class:"form-group"},jo={key:1,class:"form-row"},Oo={class:"form-group"},Qo={key:0,class:"form-group"},Wo={key:2,class:"form-row"},Zo={class:"form-group"},Xo={class:"form-row"},Ho={class:"form-group"},Jo={key:3,class:"error-message"},Ko={class:"modal-buttons"},Yo=["disabled"],$o=["disabled"];function et(f,e,i,o,u,d){return a(),r("div",{class:"modal",onClick:e[19]||(e[19]=(...s)=>o.closeModal&&o.closeModal(...s))},[t("div",{class:"modal-content",onClick:e[18]||(e[18]=S(()=>{},["stop"]))},[t("h2",null,g(o.isEditing?"Edit Item":"Add Item"),1),t("form",{onSubmit:e[17]||(e[17]=S((...s)=>o.handleSave&&o.handleSave(...s),["prevent"]))},[t("div",yo,[t("div",po,[e[21]||(e[21]=t("label",{for:"category"},"Category:",-1)),c(t("select",{id:"category","onUpdate:modelValue":e[0]||(e[0]=s=>o.form.category=s),required:""},[...e[20]||(e[20]=[Z('<option value="game" data-v-ffda6066>Game</option><option value="series" data-v-ffda6066>Series</option><option value="movie" data-v-ffda6066>Movie</option><option value="games_new" data-v-ffda6066>Games New</option><option value="series_new" data-v-ffda6066>Series New</option><option value="movie_new" data-v-ffda6066>Movies New</option>',6)])],512),[[P,o.form.category]])])]),t("div",wo,[t("div",ko,[e[22]||(e[22]=t("label",{for:"title"},"Title:",-1)),t("div",Mo,[c(t("input",{type:"text",id:"title","onUpdate:modelValue":e[1]||(e[1]=s=>o.form.title=s),onInput:e[2]||(e[2]=(...s)=>o.searchApi&&o.searchApi(...s)),required:"",placeholder:"Enter title",disabled:o.loading},null,40,ho),[[b,o.form.title]]),o.apiResults.length>0?(a(),r("div",Co,[(a(!0),r(L,null,R(o.apiResults,s=>(a(),r("div",{key:s.title,class:"search-result-item",onClick:h=>o.selectApiResult(s)},[t("div",_o,g(s.title),1),t("div",Io,[s.release?(a(),r("span",xo,g(o.formatDate(s.release)),1)):v("",!0),s.genre?(a(),r("span",Lo,g(s.genre),1)):v("",!0)])],8,So))),128))])):v("",!0)])])]),t("div",Ro,[t("div",Ao,[e[23]||(e[23]=t("label",{for:"release"},"Release:",-1)),c(t("input",{type:"date",id:"release","onUpdate:modelValue":e[3]||(e[3]=s=>o.form.release=s)},null,512),[[b,o.form.release]])]),t("div",Uo,[e[24]||(e[24]=t("label",{for:"rating"},"Rating:",-1)),c(t("input",{type:"number",id:"rating","onUpdate:modelValue":e[4]||(e[4]=s=>o.form.rating=s),step:"0.1",min:"0",max:"10",placeholder:"0-10"},null,512),[[b,o.form.rating]])])]),t("div",Vo,[t("div",To,[e[25]||(e[25]=t("label",{for:"views"},"Views:",-1)),c(t("input",{type:"number",id:"views","onUpdate:modelValue":e[5]||(e[5]=s=>o.form.count=s),min:"0",placeholder:"0"},null,512),[[b,o.form.count]])]),t("div",Eo,[e[26]||(e[26]=t("label",{for:"discovered"},"Discovered:",-1)),c(t("input",{type:"date",id:"discovered","onUpdate:modelValue":e[6]||(e[6]=s=>o.form.discovered=s)},null,512),[[b,o.form.discovered]])])]),t("div",Fo,[t("div",Po,[e[27]||(e[27]=t("label",{for:"platforms"},"Platforms:",-1)),c(t("input",{type:"text",id:"platforms","onUpdate:modelValue":e[7]||(e[7]=s=>o.form.platforms=s),placeholder:"PC, PS5, Xbox"},null,512),[[b,o.form.platforms]])]),t("div",Do,[e[28]||(e[28]=t("label",{for:"genre"},"Genre:",-1)),c(t("input",{type:"text",id:"genre","onUpdate:modelValue":e[8]||(e[8]=s=>o.form.genre=s),placeholder:"Action, Adventure, RPG"},null,512),[[b,o.form.genre]])])]),t("div",zo,[t("div",No,[e[29]||(e[29]=t("label",{for:"link"},"Link:",-1)),c(t("input",{type:"url",id:"link","onUpdate:modelValue":e[9]||(e[9]=s=>o.form.link=s),placeholder:"https://..."},null,512),[[b,o.form.link]])]),t("div",Bo,[e[30]||(e[30]=t("label",{for:"path"},"Image Path:",-1)),c(t("input",{type:"text",id:"path","onUpdate:modelValue":e[10]||(e[10]=s=>o.form.path=s),placeholder:"images/movies/filename.jpg"},null,512),[[b,o.form.path]])])]),o.isGame?(a(),r("div",qo,[t("div",Go,[e[31]||(e[31]=t("label",{for:"playtime"},"Playtime (Minutes):",-1)),c(t("input",{type:"number",id:"playtime","onUpdate:modelValue":e[11]||(e[11]=s=>o.form.spielzeit=s),min:"0",placeholder:"0"},null,512),[[b,o.form.spielzeit]])])])):v("",!0),o.isSeries?(a(),r("div",jo,[t("div",Oo,[e[33]||(e[33]=t("label",{for:"isAiring"},"Status:",-1)),c(t("select",{id:"isAiring","onUpdate:modelValue":e[12]||(e[12]=s=>o.form.isAiring=s)},[...e[32]||(e[32]=[t("option",{value:!1},"Finished",-1),t("option",{value:!0},"Airing",-1)])],512),[[P,o.form.isAiring]])]),o.form.isAiring?(a(),r("div",Qo,[e[34]||(e[34]=t("label",{for:"nextSeason"},"Next Season:",-1)),c(t("input",{type:"number",id:"nextSeason","onUpdate:modelValue":e[13]||(e[13]=s=>o.form.nextSeason=s),min:"1",placeholder:"1"},null,512),[[b,o.form.nextSeason]])])):v("",!0)])):v("",!0),o.form.isAiring?(a(),r("div",Wo,[t("div",Zo,[e[35]||(e[35]=t("label",{for:"nextSeasonRelease"},"Next Season Release:",-1)),c(t("input",{type:"date",id:"nextSeasonRelease","onUpdate:modelValue":e[14]||(e[14]=s=>o.form.nextSeasonRelease=s)},null,512),[[b,o.form.nextSeasonRelease]])])])):v("",!0),t("div",Xo,[t("div",Ho,[e[36]||(e[36]=t("label",{for:"imageUrl"},"Image URL:",-1)),c(t("input",{type:"url",id:"imageUrl","onUpdate:modelValue":e[15]||(e[15]=s=>o.form.imageUrl=s),placeholder:"https://..."},null,512),[[b,o.form.imageUrl]])])]),o.error?(a(),r("div",Jo,g(o.error),1)):v("",!0),t("div",Ko,[t("button",{type:"submit",disabled:o.loading},g(o.loading?"Saving...":"Save"),9,Yo),t("button",{type:"button",onClick:e[16]||(e[16]=(...s)=>o.closeModal&&o.closeModal(...s)),disabled:o.loading}," Cancel ",8,$o)])],32)])])}const ot=T(bo,[["render",et],["__scopeId","data-v-ffda6066"]]),tt={name:"MediaLibrary",components:{MediaItem:Ge,LoginModal:$e,RegisterModal:vo,EditModal:ot},setup(){const f=Se(),e=B(),i=Ie(),o=p(!1),u=p(!1),d=p(!1),s=p(!1),h=p(!1),y=p(!1),w=p(null),l=p(8),_=p("order_asc");z(u,m=>{console.log("showLoginModal changed to:",m)}),z(d,m=>{console.log("showRegisterModal changed to:",m)});const q=[{key:"game",name:"Games",icon:"🎮"},{key:"series",name:"Series",icon:"📺"},{key:"movie",name:"Movies",icon:"🎬"},{key:"games_new",name:"Games New",icon:"🎯"},{key:"series_new",name:"Series New",icon:"⭐"},{key:"movie_new",name:"Movies New",icon:"✨"}],I=k(()=>{const m=e.isLoggedIn;return console.log("isLoggedIn computed:",m),m}),G=k(()=>e.userName),n=k(()=>i.currentCategory),C=k({get:()=>i.searchQuery,set:m=>i.setSearchQuery(m)}),X=k(()=>i.categoryCounts),H=k(()=>i.loading),J=k(()=>i.error),K=k(()=>{const m=[...i.filteredMedia],[M,U]=_.value.split("_");return m.sort((O,Q)=>{let x=O[M],V=Q[M];return M==="order"&&(x=O.__order||0,V=Q.__order||0),typeof x=="string"&&(x=x.toLowerCase(),V=V.toLowerCase()),U==="asc"?x>V?1:-1:x<V?1:-1})}),Y=k(()=>K.value),$=k(()=>{const m=new Set;return i.mediaData.forEach(M=>{M.platforms&&M.platforms.split(",").forEach(U=>m.add(U.trim()))}),Array.from(m).sort()}),ee=k(()=>{const m=new Set;return i.mediaData.forEach(M=>{M.genre&&M.genre.split(",").forEach(U=>m.add(U.trim()))}),Array.from(m).sort()}),oe=()=>{o.value=!o.value},te=()=>{},se=m=>{i.setCategory(m)},le=()=>{i.setSearchQuery("")},ie=()=>{f.push("/statistics")},ne=()=>{f.push("/profile")},ae=(m,M)=>{M?i.addFilter({type:"platform",value:m}):i.removeFilter({type:"platform",value:m})},re=(m,M)=>{M?i.addFilter({type:"genre",value:m}):i.removeFilter({type:"genre",value:m})},de=m=>{w.value=m,s.value=!0},me=async m=>{confirm("Are you sure you want to delete this item?")&&await i.deleteMediaItem(m.id)},ge=()=>{u.value=!1,d.value=!0},ue=()=>{u.value=!1,A()},fe=()=>{d.value=!1,A()},j=()=>{s.value=!1,w.value=null},ce=async m=>{w.value?await i.updateMediaItem(w.value.id,m):await i.addMediaItem(m),j()},ve=async()=>{await e.logout(),A()},A=async()=>{await i.loadMedia()},be=()=>{console.log("Test modal button clicked"),console.log("showTestModal before:",h.value),h.value=!0,console.log("showTestModal after:",h.value)},ye=()=>{y.value=!y.value},pe=()=>{if(y.value=!1,!I.value){alert("Bitte loggen Sie sich ein, um neue Items hinzuzufügen.");return}w.value=null,s.value=!0},we=()=>{if(y.value=!1,!I.value){alert("Bitte loggen Sie sich ein, um diese Funktion zu nutzen.");return}alert("Bulk Add feature coming soon!")},ke=()=>{if(y.value=!1,!I.value){alert("Bitte loggen Sie sich ein, um diese Funktion zu nutzen.");return}alert("API Import feature coming soon!")},Me=()=>{if(y.value=!1,!I.value){alert("Bitte loggen Sie sich ein, um diese Funktion zu nutzen.");return}alert("Collection creation feature coming soon!")};return Ce(async()=>{console.log("MediaLibrary mounted, initializing auth..."),await e.initializeAuth(),console.log("Auth initialized, isLoggedIn:",e.isLoggedIn),await A(),console.log("Media loaded")}),{sidebarCollapsed:o,showLoginModal:u,showRegisterModal:d,showEditModal:s,showTestModal:h,showFloatingMenu:y,editingItem:w,gridColumns:l,sortBy:_,categories:q,isLoggedIn:I,userName:G,currentCategory:n,searchQuery:C,categoryCounts:X,loading:H,error:J,paginatedMedia:Y,platforms:$,genres:ee,toggleSidebar:oe,toggleMobileSidebar:te,setCategory:se,clearSearch:le,navigateToStatistics:ie,navigateToProfile:ne,togglePlatformFilter:ae,toggleGenreFilter:re,editItem:de,deleteItem:me,switchToRegister:ge,handleLoginSuccess:ue,handleRegisterSuccess:fe,closeEditModal:j,handleSaveItem:ce,logout:ve,loadMedia:A,testModal:be,toggleFloatingMenu:ye,addNewItem:pe,bulkAddItems:we,importFromAPI:ke,createCollection:Me}}},st={class:"vue-app"},lt={class:"sidebar-content"},it={class:"sidebar-section"},nt={class:"sidebar-nav"},at=["onClick"],rt={class:"nav-icon"},dt={class:"nav-text"},mt={class:"nav-count"},gt={key:0,class:"sidebar-section"},ut={class:"filter-section"},ft={class:"filter-group"},ct={class:"filter-checkboxes"},vt=["value","onChange"],bt={class:"option-text"},yt={class:"filter-group"},pt={class:"filter-checkboxes"},wt=["value","onChange"],kt={class:"option-text"},Mt={class:"sidebar-section"},ht={key:0,class:"auth-buttons"},Ct={key:1,class:"user-info"},St={class:"user-profile"},_t={class:"profile-details"},It={class:"user-name"},xt={class:"auth-buttons",style:{"margin-top":"10px"}},Lt={style:{color:"white","font-size":"12px","margin-top":"5px"}},Rt={class:"main-content"},At={class:"main-header"},Ut={class:"header-left"},Vt={class:"header-center"},Tt={class:"search-container"},Et={class:"header-right"},Ft={class:"grid-count-container"},Pt=["value"],Dt={class:"sort-container"},zt={class:"content-area"},Nt={key:0,class:"loading"},Bt={key:1,class:"error"},qt={class:"floating-actions"};function Gt(f,e,i,o,u,d){const s=F("MediaItem"),h=F("LoginModal"),y=F("RegisterModal"),w=F("EditModal");return a(),r("div",st,[t("aside",{id:"sidebar",class:D(["sidebar",{collapsed:o.sidebarCollapsed}])},[t("div",{class:"sidebar-header",onClick:e[0]||(e[0]=(...l)=>o.toggleSidebar&&o.toggleSidebar(...l))},[...e[24]||(e[24]=[t("h2",null,"Media Library",-1),t("button",{class:"sidebar-toggle"},"☰",-1)])]),t("div",lt,[t("div",it,[e[26]||(e[26]=t("h3",null,"Browse",-1)),t("nav",nt,[(a(!0),r(L,null,R(o.categories,l=>(a(),r("button",{key:l.key,class:D(["nav-btn",{active:o.currentCategory===l.key}]),onClick:_=>o.setCategory(l.key)},[t("span",rt,g(l.icon),1),t("span",dt,g(l.name),1),t("span",mt,g(o.categoryCounts[l.key]||0),1)],10,at))),128)),t("button",{class:"nav-btn",onClick:e[1]||(e[1]=(...l)=>o.navigateToStatistics&&o.navigateToStatistics(...l))},[...e[25]||(e[25]=[t("span",{class:"nav-icon"},"📊",-1),t("span",{class:"nav-text"},"Statistics",-1)])])])]),o.isLoggedIn?(a(),r("div",gt,[e[31]||(e[31]=t("h3",null,"Filters",-1)),t("div",ut,[t("div",ft,[e[28]||(e[28]=t("h4",null,"Platforms",-1)),t("div",ct,[(a(!0),r(L,null,R(o.platforms,l=>(a(),r("label",{key:l,class:"filter-option"},[t("input",{type:"checkbox",value:l,onChange:_=>o.togglePlatformFilter(l,_.target.checked)},null,40,vt),e[27]||(e[27]=t("span",{class:"checkmark"},null,-1)),t("span",bt,g(l),1)]))),128))])]),t("div",yt,[e[30]||(e[30]=t("h4",null,"Genres",-1)),t("div",pt,[(a(!0),r(L,null,R(o.genres,l=>(a(),r("label",{key:l,class:"filter-option"},[t("input",{type:"checkbox",value:l,onChange:_=>o.toggleGenreFilter(l,_.target.checked)},null,40,wt),e[29]||(e[29]=t("span",{class:"checkmark"},null,-1)),t("span",kt,g(l),1)]))),128))])])])])):v("",!0),t("div",Mt,[e[34]||(e[34]=t("h3",null,"Account",-1)),o.isLoggedIn?(a(),r("div",Ct,[t("div",St,[e[32]||(e[32]=t("div",{class:"profile-avatar"},[t("span",{class:"avatar-text"},"👤")],-1)),t("div",_t,[t("span",It,g(o.userName),1)]),t("button",{class:"account-btn",onClick:e[4]||(e[4]=(...l)=>o.navigateToProfile&&o.navigateToProfile(...l))},"⚙️")]),t("button",{class:"auth-btn",onClick:e[5]||(e[5]=(...l)=>o.logout&&o.logout(...l))},"Logout")])):(a(),r("div",ht,[t("button",{class:"auth-btn",onClick:e[2]||(e[2]=()=>{console.log("Login button clicked"),o.showLoginModal=!0})},"Login"),t("button",{class:"auth-btn",onClick:e[3]||(e[3]=()=>{console.log("Register button clicked"),o.showRegisterModal=!0})},"Register")])),t("div",xt,[t("button",{class:"auth-btn",onClick:e[6]||(e[6]=()=>{console.log("Debug: Force show login modal"),o.showLoginModal=!0}),style:{background:"red"}},"Debug Login"),t("button",{class:"auth-btn",onClick:e[7]||(e[7]=(...l)=>o.testModal&&o.testModal(...l)),style:{background:"green"}},"Test Modal"),t("div",Lt,[W(" showLoginModal: "+g(o.showLoginModal),1),e[33]||(e[33]=t("br",null,null,-1)),W(" showTestModal: "+g(o.showTestModal),1)])])])])],2),t("div",Rt,[t("header",At,[t("div",Ut,[t("button",{class:"mobile-sidebar-toggle",onClick:e[8]||(e[8]=(...l)=>o.toggleMobileSidebar&&o.toggleMobileSidebar(...l))},"☰")]),t("div",Vt,[t("div",Tt,[c(t("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=l=>o.searchQuery=l),placeholder:"Search..."},null,512),[[b,o.searchQuery]]),t("button",{class:"search-clear",onClick:e[10]||(e[10]=(...l)=>o.clearSearch&&o.clearSearch(...l))},"×")])]),t("div",Et,[t("div",Ft,[e[35]||(e[35]=t("label",null,"Columns:",-1)),c(t("select",{"onUpdate:modelValue":e[11]||(e[11]=l=>o.gridColumns=l)},[(a(),r(L,null,R(12,l=>t("option",{key:l,value:l},g(l),9,Pt)),64))],512),[[P,o.gridColumns]])]),t("div",Dt,[c(t("select",{"onUpdate:modelValue":e[12]||(e[12]=l=>o.sortBy=l)},[...e[36]||(e[36]=[Z('<option value="order_asc" data-v-a8e66ddf>Original order ↑</option><option value="order_desc" data-v-a8e66ddf>Original order ↓</option><option value="title_asc" data-v-a8e66ddf>Title A-Z</option><option value="title_desc" data-v-a8e66ddf>Title Z-A</option><option value="release_asc" data-v-a8e66ddf>Release ↑</option><option value="release_desc" data-v-a8e66ddf>Release ↓</option><option value="rating_asc" data-v-a8e66ddf>Rating ↑</option><option value="rating_desc" data-v-a8e66ddf>Rating ↓</option>',8)])],512),[[P,o.sortBy]])])])]),t("main",zt,[o.loading?(a(),r("div",Nt,[...e[37]||(e[37]=[t("p",null,"Loading media data...",-1)])])):o.error?(a(),r("div",Bt,[t("p",null,g(o.error),1),t("button",{onClick:e[13]||(e[13]=(...l)=>o.loadMedia&&o.loadMedia(...l))},"Retry")])):(a(),r("div",{key:2,class:"grid",style:he({gridTemplateColumns:`repeat(${o.gridColumns}, 1fr)`})},[(a(!0),r(L,null,R(o.paginatedMedia,l=>(a(),E(s,{key:l.id,item:l,onEdit:o.editItem,onDelete:o.deleteItem},null,8,["item","onEdit","onDelete"]))),128))],4))])]),o.showTestModal?(a(),r("div",{key:0,class:"test-modal",onClick:e[16]||(e[16]=l=>o.showTestModal=!1)},[t("div",{class:"test-modal-content",onClick:e[15]||(e[15]=S(()=>{},["stop"]))},[e[38]||(e[38]=t("h2",null,"Test Login Modal",-1)),e[39]||(e[39]=t("p",null,"This is a test modal to see if modals work at all.",-1)),t("button",{onClick:e[14]||(e[14]=l=>o.showTestModal=!1)},"Close")])])):v("",!0),o.showLoginModal?(a(),E(h,{key:1,onClose:e[17]||(e[17]=l=>o.showLoginModal=!1),onSuccess:o.handleLoginSuccess,onSwitchToRegister:o.switchToRegister},null,8,["onSuccess","onSwitchToRegister"])):v("",!0),o.showRegisterModal?(a(),E(y,{key:2,onClose:e[18]||(e[18]=l=>o.showRegisterModal=!1),onSuccess:o.handleRegisterSuccess},null,8,["onSuccess"])):v("",!0),o.showEditModal?(a(),E(w,{key:3,item:o.editingItem,onClose:o.closeEditModal,onSave:o.handleSaveItem},null,8,["item","onClose","onSave"])):v("",!0),t("div",qt,[t("div",{class:D(["floating-menu",{show:o.showFloatingMenu}])},[t("button",{class:"floating-menu-item",onClick:e[19]||(e[19]=(...l)=>o.addNewItem&&o.addNewItem(...l))},[...e[40]||(e[40]=[t("span",{class:"menu-icon"},"➕",-1),t("span",{class:"menu-text"},"Add Item",-1)])]),t("button",{class:"floating-menu-item",onClick:e[20]||(e[20]=(...l)=>o.bulkAddItems&&o.bulkAddItems(...l))},[...e[41]||(e[41]=[t("span",{class:"menu-icon"},"📦",-1),t("span",{class:"menu-text"},"Bulk Add",-1)])]),t("button",{class:"floating-menu-item",onClick:e[21]||(e[21]=(...l)=>o.importFromAPI&&o.importFromAPI(...l))},[...e[42]||(e[42]=[t("span",{class:"menu-icon"},"🌐",-1),t("span",{class:"menu-text"},"Import from API",-1)])]),t("button",{class:"floating-menu-item",onClick:e[22]||(e[22]=(...l)=>o.createCollection&&o.createCollection(...l))},[...e[43]||(e[43]=[t("span",{class:"menu-icon"},"📚",-1),t("span",{class:"menu-text"},"Create Collection",-1)])])],2),t("button",{class:"floating-add-btn",onClick:e[23]||(e[23]=(...l)=>o.toggleFloatingMenu&&o.toggleFloatingMenu(...l))},g(o.showFloatingMenu?"✕":"+"),1)])])}const Wt=T(tt,[["render",Gt],["__scopeId","data-v-a8e66ddf"]]);export{Wt as default};
