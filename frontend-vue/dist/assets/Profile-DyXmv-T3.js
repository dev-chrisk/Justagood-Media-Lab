import{_ as z,c as b,a,t as p,e as c,v as f,h as v,d as B,r as E,f as R,p as j,u as P,o as D}from"./index-z1QHRkF6.js";import{u as h}from"./auth-RhgKeeQo.js";import{u as V}from"./media-B7xhEs5K.js";const J={name:"Profile",setup(){const g=P(),t=h(),m=V(),s=B(null),o=E({firstName:"",lastName:"",displayName:"",email:"",bio:"",avatar:"",language:"en",timezone:"UTC",dateFormat:"MM/DD/YYYY"}),y=R(()=>m.totalItems),e=()=>{},S=()=>{},C=()=>{g.push("/")},N=()=>{g.push("/statistics")},k=()=>{m.loadMedia()},Y=()=>{var i,l;const n=((i=o.firstName)==null?void 0:i.charAt(0))||"U",r=((l=o.lastName)==null?void 0:l.charAt(0))||"S";return(n+r).toUpperCase()},A=()=>{var n;(n=s.value)==null||n.click()},M=n=>{const r=n.target.files[0];if(r){const i=new FileReader;i.onload=l=>{o.avatar=l.target.result},i.readAsDataURL(r)}},x=()=>{const n={profile:o,media:m.mediaData,settings:{language:o.language,timezone:o.timezone,dateFormat:o.dateFormat},exportDate:new Date().toISOString()},r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),i=URL.createObjectURL(r),l=document.createElement("a");l.href=i,l.download=`media-library-backup-${new Date().toISOString().split("T")[0]}.json`,l.click(),URL.revokeObjectURL(i)},w=()=>{const n=document.createElement("input");n.type="file",n.accept=".json",n.onchange=r=>{const i=r.target.files[0];if(i){const l=new FileReader;l.onload=O=>{try{const d=JSON.parse(O.target.result);d.profile&&Object.assign(o,d.profile),d.media&&(m.mediaData=d.media,m.saveMedia()),d.settings&&Object.assign(o,d.settings),u()}catch(d){console.error("Failed to import data:",d)}},l.readAsText(i)}},n.click()},U=()=>{const n={profile:o,media:m.mediaData,settings:{language:o.language,timezone:o.timezone,dateFormat:o.dateFormat},backupDate:new Date().toISOString()},r=`backup_${Date.now()}`;localStorage.setItem(r,JSON.stringify(n)),alert("Backup created successfully!")},I=()=>{alert("Cache cleared successfully!")},F=()=>{confirm("Are you sure you want to reset all settings?")&&(Object.assign(o,{firstName:"",lastName:"",displayName:"",email:"",bio:"",avatar:"",language:"en",timezone:"UTC",dateFormat:"MM/DD/YYYY"}),u())},T=()=>{confirm("Are you sure you want to clear all data? This cannot be undone!")&&(localStorage.clear(),g.push("/"))},u=()=>{localStorage.setItem("profileData",JSON.stringify(o))},L=()=>{u(),alert("All changes saved successfully!")};return j(()=>{var r,i;const n=localStorage.getItem("profileData");if(n)try{const l=JSON.parse(n);Object.assign(o,l)}catch(l){console.error("Failed to load profile data:",l)}t.user&&(o.firstName=((r=t.user.name)==null?void 0:r.split(" ")[0])||"",o.lastName=((i=t.user.name)==null?void 0:i.split(" ").slice(1).join(" "))||"",o.email=t.user.email||"")}),{avatarInput:s,profileData:o,totalItems:y,toggleSidebar:e,toggleMobileSidebar:S,navigateToLibrary:C,navigateToStatistics:N,refreshStats:k,getInitials:Y,changeAvatar:A,handleAvatarChange:M,exportData:x,importData:w,createBackup:U,clearCache:I,resetSettings:F,clearAllData:T,saveAllChanges:L}}},H={class:"vue-app"},K={id:"sidebar",class:"sidebar"},Z={class:"sidebar-content"},q={class:"sidebar-section"},G={class:"sidebar-nav"},Q={class:"main-content"},W={class:"main-header"},X={class:"header-left"},_={class:"header-right"},$={class:"content-area"},aa={class:"profile-container"},ta={class:"profile-header"},sa={class:"profile-avatar-section"},ea=["src"],oa={key:1,class:"avatar-initials"},na={class:"profile-info-header"},la={class:"profile-stats"},ia={class:"stat-item"},ra={class:"stat-number"},da={class:"stat-item"},ca={class:"stat-number"},ma={class:"settings-sections"},pa={class:"settings-section"},fa={class:"section-content"},ga={class:"form-row"},ua={class:"form-group"},ba={class:"form-group"},va={class:"form-group"},Da={class:"form-group"},ya={class:"form-group"},Sa={class:"settings-section"},Ca={class:"section-content"},Na={class:"form-row"},ka={class:"form-group"},Ya={class:"form-group"},Aa={class:"form-row"},Ma={class:"form-group"},xa={class:"settings-section"},wa={class:"section-content"},Ua={class:"data-actions"},Ia={class:"settings-section danger-zone"},Fa={class:"section-content"},Ta={class:"danger-actions"},La={class:"floating-save"};function Oa(g,t,m,s,o,y){return D(),b("div",H,[a("aside",K,[a("div",{class:"sidebar-header",onClick:t[0]||(t[0]=(...e)=>s.toggleSidebar&&s.toggleSidebar(...e))},[...t[22]||(t[22]=[a("h2",null,"Media Library",-1),a("button",{class:"sidebar-toggle"},"☰",-1)])]),a("div",Z,[a("div",q,[t[26]||(t[26]=a("h3",null,"Navigation",-1)),a("nav",G,[a("button",{class:"nav-btn",onClick:t[1]||(t[1]=(...e)=>s.navigateToLibrary&&s.navigateToLibrary(...e))},[...t[23]||(t[23]=[a("span",{class:"nav-icon"},"📚",-1),a("span",{class:"nav-text"},"Library",-1)])]),a("button",{class:"nav-btn",onClick:t[2]||(t[2]=(...e)=>s.navigateToStatistics&&s.navigateToStatistics(...e))},[...t[24]||(t[24]=[a("span",{class:"nav-icon"},"📊",-1),a("span",{class:"nav-text"},"Statistics",-1)])]),t[25]||(t[25]=a("button",{class:"nav-btn active"},[a("span",{class:"nav-icon"},"👤"),a("span",{class:"nav-text"},"Profile")],-1))])])])]),a("div",Q,[a("header",W,[a("div",X,[a("button",{class:"mobile-sidebar-toggle",onClick:t[3]||(t[3]=(...e)=>s.toggleMobileSidebar&&s.toggleMobileSidebar(...e))},"☰"),t[27]||(t[27]=a("h1",{class:"page-title"},"Profile Settings",-1))]),a("div",_,[a("button",{class:"refresh-stats-btn",onClick:t[4]||(t[4]=(...e)=>s.refreshStats&&s.refreshStats(...e)),title:"Refresh statistics"},[...t[28]||(t[28]=[a("span",{class:"refresh-icon"},"🔄",-1)])])])]),a("main",$,[a("div",aa,[a("div",ta,[a("div",sa,[a("div",{class:"profile-avatar-large",onClick:t[5]||(t[5]=(...e)=>s.changeAvatar&&s.changeAvatar(...e))},[s.profileData.avatar?(D(),b("img",{key:0,src:s.profileData.avatar,alt:"Profile Picture"},null,8,ea)):(D(),b("span",oa,p(s.getInitials()),1))]),a("input",{type:"file",ref:"avatarInput",accept:"image/*",onChange:t[6]||(t[6]=(...e)=>s.handleAvatarChange&&s.handleAvatarChange(...e)),style:{display:"none"}},null,544)]),a("div",na,[a("h2",null,p(s.profileData.displayName||s.profileData.firstName+" "+s.profileData.lastName||"User"),1),a("p",null,p(s.profileData.email||"user@example.com"),1),a("div",la,[a("div",ia,[a("span",ra,p(s.totalItems),1),t[29]||(t[29]=a("span",{class:"stat-label"},"Total Items",-1))]),a("div",da,[a("span",ca,p(new Date().getFullYear()),1),t[30]||(t[30]=a("span",{class:"stat-label"},"Member Since",-1))])])])]),a("div",ma,[a("div",pa,[t[36]||(t[36]=a("div",{class:"section-header"},[a("h3",null,"Personal Information"),a("p",null,"Manage your personal details and account information")],-1)),a("div",fa,[a("div",ga,[a("div",ua,[t[31]||(t[31]=a("label",{for:"firstName"},"First Name",-1)),c(a("input",{type:"text",id:"firstName","onUpdate:modelValue":t[7]||(t[7]=e=>s.profileData.firstName=e),placeholder:"Enter your first name"},null,512),[[f,s.profileData.firstName]])]),a("div",ba,[t[32]||(t[32]=a("label",{for:"lastName"},"Last Name",-1)),c(a("input",{type:"text",id:"lastName","onUpdate:modelValue":t[8]||(t[8]=e=>s.profileData.lastName=e),placeholder:"Enter your last name"},null,512),[[f,s.profileData.lastName]])])]),a("div",va,[t[33]||(t[33]=a("label",{for:"displayName"},"Display Name",-1)),c(a("input",{type:"text",id:"displayName","onUpdate:modelValue":t[9]||(t[9]=e=>s.profileData.displayName=e),placeholder:"How others see your name"},null,512),[[f,s.profileData.displayName]])]),a("div",Da,[t[34]||(t[34]=a("label",{for:"email"},"Email Address",-1)),c(a("input",{type:"email",id:"email","onUpdate:modelValue":t[10]||(t[10]=e=>s.profileData.email=e),placeholder:"your.email@example.com"},null,512),[[f,s.profileData.email]])]),a("div",ya,[t[35]||(t[35]=a("label",{for:"bio"},"Bio",-1)),c(a("textarea",{id:"bio","onUpdate:modelValue":t[11]||(t[11]=e=>s.profileData.bio=e),placeholder:"Tell us about yourself...",rows:"4"},null,512),[[f,s.profileData.bio]])])])]),a("div",Sa,[t[44]||(t[44]=a("div",{class:"section-header"},[a("h3",null,"Preferences"),a("p",null,"Customize your application experience")],-1)),a("div",Ca,[a("div",Na,[a("div",ka,[t[38]||(t[38]=a("label",{for:"language"},"Language",-1)),c(a("select",{id:"language","onUpdate:modelValue":t[12]||(t[12]=e=>s.profileData.language=e)},[...t[37]||(t[37]=[a("option",{value:"en"},"English",-1),a("option",{value:"de"},"Deutsch",-1),a("option",{value:"fr"},"Français",-1),a("option",{value:"es"},"Español",-1)])],512),[[v,s.profileData.language]])]),a("div",Ya,[t[40]||(t[40]=a("label",{for:"timezone"},"Timezone",-1)),c(a("select",{id:"timezone","onUpdate:modelValue":t[13]||(t[13]=e=>s.profileData.timezone=e)},[...t[39]||(t[39]=[a("option",{value:"UTC"},"UTC",-1),a("option",{value:"Europe/Berlin"},"Europe/Berlin",-1),a("option",{value:"America/New_York"},"America/New_York",-1),a("option",{value:"America/Los_Angeles"},"America/Los_Angeles",-1)])],512),[[v,s.profileData.timezone]])])]),a("div",Aa,[a("div",Ma,[t[42]||(t[42]=a("label",{for:"dateFormat"},"Date Format",-1)),c(a("select",{id:"dateFormat","onUpdate:modelValue":t[14]||(t[14]=e=>s.profileData.dateFormat=e)},[...t[41]||(t[41]=[a("option",{value:"MM/DD/YYYY"},"MM/DD/YYYY",-1),a("option",{value:"DD/MM/YYYY"},"DD/MM/YYYY",-1),a("option",{value:"YYYY-MM-DD"},"YYYY-MM-DD",-1)])],512),[[v,s.profileData.dateFormat]])]),t[43]||(t[43]=a("div",{class:"form-group"},null,-1))])])]),a("div",xa,[t[49]||(t[49]=a("div",{class:"section-header"},[a("h3",null,"Data Management"),a("p",null,"Manage your data and account")],-1)),a("div",wa,[a("div",Ua,[a("button",{class:"data-btn export-btn",onClick:t[15]||(t[15]=(...e)=>s.exportData&&s.exportData(...e))},[...t[45]||(t[45]=[a("span",{class:"btn-icon"},"📦",-1),a("span",{class:"btn-text"},"Export All Data",-1),a("span",{class:"btn-description"},"Download your complete media library",-1)])]),a("button",{class:"data-btn import-btn",onClick:t[16]||(t[16]=(...e)=>s.importData&&s.importData(...e))},[...t[46]||(t[46]=[a("span",{class:"btn-icon"},"📥",-1),a("span",{class:"btn-text"},"Import Data",-1),a("span",{class:"btn-description"},"Import data from a backup file",-1)])]),a("button",{class:"data-btn backup-btn",onClick:t[17]||(t[17]=(...e)=>s.createBackup&&s.createBackup(...e))},[...t[47]||(t[47]=[a("span",{class:"btn-icon"},"💾",-1),a("span",{class:"btn-text"},"Create Backup",-1),a("span",{class:"btn-description"},"Create a local backup of your data",-1)])]),a("button",{class:"data-btn cache-btn",onClick:t[18]||(t[18]=(...e)=>s.clearCache&&s.clearCache(...e))},[...t[48]||(t[48]=[a("span",{class:"btn-icon"},"🗑️",-1),a("span",{class:"btn-text"},"Clear Cache",-1),a("span",{class:"btn-description"},"Clear temporary files and cache",-1)])])])])]),a("div",Ia,[t[52]||(t[52]=a("div",{class:"section-header"},[a("h3",null,"Danger Zone"),a("p",null,"Irreversible and destructive actions")],-1)),a("div",Fa,[a("div",Ta,[a("button",{class:"danger-btn reset-btn",onClick:t[19]||(t[19]=(...e)=>s.resetSettings&&s.resetSettings(...e))},[...t[50]||(t[50]=[a("span",{class:"btn-icon"},"🔄",-1),a("span",{class:"btn-text"},"Reset All Settings",-1),a("span",{class:"btn-description"},"Reset all settings to default values",-1)])]),a("button",{class:"danger-btn clear-btn",onClick:t[20]||(t[20]=(...e)=>s.clearAllData&&s.clearAllData(...e))},[...t[51]||(t[51]=[a("span",{class:"btn-icon"},"🗑️",-1),a("span",{class:"btn-text"},"Clear All Data",-1),a("span",{class:"btn-description"},"Permanently delete all your data",-1)])])])])])])])])]),a("div",La,[a("button",{class:"save-all-btn",onClick:t[21]||(t[21]=(...e)=>s.saveAllChanges&&s.saveAllChanges(...e))}," Save All Changes ")])])}const Ra=z(J,[["render",Oa],["__scopeId","data-v-6444dba3"]]);export{Ra as default};
