import{_ as I,c as r,a as t,b as v,t as m,w as M,o as l,r as B,d as y,e as f,v as p,f as _,g as ye,h as N,i as Q,F as A,j as L,k as P,l as _e,m as R,n as T,p as ke,q as we,u as he}from"./index-CL7dgADo.js";import{u as z}from"./auth-CRGT0J_T.js";import{m as Se,u as Me}from"./media-C5YpmAux.js";const Ce={name:"MediaItem",props:{item:{type:Object,required:!0}},emits:["edit","delete"],methods:{getImageUrl(u){return u.startsWith("http")||u.startsWith("/")?u:`/storage/${u}`},handleImageError(u){var e;u.target.style.display="none",(e=u.target.nextElementSibling)==null||e.classList.add("show")},formatDate(u){return u?new Date(u).toLocaleDateString():""},showDetails(){console.log("Show details for:",this.item.title)},editItem(){this.$emit("edit",this.item)},deleteItem(){this.$emit("delete",this.item)}}},Ie={class:"media-image"},xe=["src","alt"],Re={key:1,class:"no-image"},Ae={class:"media-info"},Le={class:"media-title"},Ve={class:"media-meta"},Ue={key:0,class:"media-release"},Ee={key:1,class:"media-rating"},Fe={key:0,class:"media-platforms"},Pe={key:1,class:"media-genre"},De={key:2,class:"media-airing"},Ne={key:0},Te={class:"media-actions"};function Be(u,e,n,o,c,d){return l(),r("div",{class:"media-item",onClick:e[3]||(e[3]=(...s)=>d.showDetails&&d.showDetails(...s))},[t("div",Ie,[n.item.path?(l(),r("img",{key:0,src:d.getImageUrl(n.item.path),alt:n.item.title,onError:e[0]||(e[0]=(...s)=>d.handleImageError&&d.handleImageError(...s))},null,40,xe)):(l(),r("div",Re,[...e[4]||(e[4]=[t("span",{class:"no-image-icon"},"📁",-1)])]))]),t("div",Ae,[t("h3",Le,m(n.item.title),1),t("div",Ve,[n.item.release?(l(),r("span",Ue,m(d.formatDate(n.item.release)),1)):v("",!0),n.item.rating?(l(),r("span",Ee,m("★".repeat(Math.max(0,Math.min(5,Math.floor(n.item.rating)))))+m("☆".repeat(Math.max(0,5-Math.max(0,Math.min(5,Math.floor(n.item.rating)))))),1)):v("",!0)]),n.item.platforms?(l(),r("div",Fe,m(n.item.platforms),1)):v("",!0),n.item.genre?(l(),r("div",Pe,m(n.item.genre),1)):v("",!0),n.item.isAiring?(l(),r("div",De,[e[5]||(e[5]=t("span",{class:"airing-badge"},"Airing",-1)),n.item.nextSeason?(l(),r("span",Ne,"S"+m(n.item.nextSeason),1)):v("",!0)])):v("",!0)]),t("div",Te,[t("button",{class:"action-btn edit-btn",onClick:e[1]||(e[1]=M((...s)=>d.editItem&&d.editItem(...s),["stop"])),title:"Edit"}," ✏️ "),t("button",{class:"action-btn delete-btn",onClick:e[2]||(e[2]=M((...s)=>d.deleteItem&&d.deleteItem(...s),["stop"])),title:"Delete"}," 🗑️ ")])])}const ze=I(Ce,[["render",Be],["__scopeId","data-v-dd760f69"]]),qe={name:"LoginModal",emits:["close","success"],setup(u,{emit:e}){const n=z(),o=B({email:"",password:""}),c=y(!1),d=y("");return{form:o,loading:c,error:d,handleLogin:async()=>{c.value=!0,d.value="";try{const b=await n.login(o.email,o.password);b.success?e("success"):d.value=b.error}catch(b){d.value=b.message||"Login failed"}finally{c.value=!1}},closeModal:()=>{e("close")}}}},Ge={class:"form-group"},je=["disabled"],Oe={class:"form-group"},Qe=["disabled"],We={key:0,class:"error-message"},Ze={class:"modal-buttons"},Xe=["disabled"],He=["disabled"];function Je(u,e,n,o,c,d){return l(),r("div",{class:"modal",onClick:e[5]||(e[5]=(...s)=>o.closeModal&&o.closeModal(...s))},[t("div",{class:"modal-content auth-modal",onClick:e[4]||(e[4]=M(()=>{},["stop"]))},[e[8]||(e[8]=t("h2",null,"Login",-1)),t("form",{onSubmit:e[3]||(e[3]=M((...s)=>o.handleLogin&&o.handleLogin(...s),["prevent"]))},[t("div",Ge,[e[6]||(e[6]=t("label",{for:"email"},"Email:",-1)),f(t("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=s=>o.form.email=s),required:"",disabled:o.loading},null,8,je),[[p,o.form.email]])]),t("div",Oe,[e[7]||(e[7]=t("label",{for:"password"},"Password:",-1)),f(t("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=s=>o.form.password=s),required:"",disabled:o.loading},null,8,Qe),[[p,o.form.password]])]),o.error?(l(),r("div",We,m(o.error),1)):v("",!0),t("div",Ze,[t("button",{type:"submit",disabled:o.loading},m(o.loading?"Logging in...":"Login"),9,Xe),t("button",{type:"button",onClick:e[2]||(e[2]=(...s)=>o.closeModal&&o.closeModal(...s)),disabled:o.loading}," Cancel ",8,He)])],32)])])}const Ke=I(qe,[["render",Je],["__scopeId","data-v-46772b29"]]),Ye={name:"RegisterModal",emits:["close","success"],setup(u,{emit:e}){const n=z(),o=B({name:"",email:"",password:"",passwordConfirm:""}),c=y(!1),d=y(""),s=_(()=>o.name&&o.email&&o.password&&o.passwordConfirm&&o.password===o.passwordConfirm&&o.password.length>=8);return{form:o,loading:c,error:d,isFormValid:s,handleRegister:async()=>{if(!s.value){d.value="Please fill in all fields and ensure passwords match";return}c.value=!0,d.value="";try{const S=await n.register(o.name,o.email,o.password,o.passwordConfirm);S.success?e("success"):d.value=S.error}catch(S){d.value=S.message||"Registration failed"}finally{c.value=!1}},closeModal:()=>{e("close")}}}},$e={class:"form-group"},eo=["disabled"],oo={class:"form-group"},to=["disabled"],so={class:"form-group"},io=["disabled"],no={class:"form-group"},ao=["disabled"],lo={key:0,class:"error-message"},ro={class:"modal-buttons"},mo=["disabled"],co=["disabled"];function uo(u,e,n,o,c,d){return l(),r("div",{class:"modal",onClick:e[7]||(e[7]=(...s)=>o.closeModal&&o.closeModal(...s))},[t("div",{class:"modal-content auth-modal",onClick:e[6]||(e[6]=M(()=>{},["stop"]))},[e[12]||(e[12]=t("h2",null,"Register",-1)),t("form",{onSubmit:e[5]||(e[5]=M((...s)=>o.handleRegister&&o.handleRegister(...s),["prevent"]))},[t("div",$e,[e[8]||(e[8]=t("label",{for:"name"},"Name:",-1)),f(t("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=s=>o.form.name=s),required:"",disabled:o.loading},null,8,eo),[[p,o.form.name]])]),t("div",oo,[e[9]||(e[9]=t("label",{for:"email"},"Email:",-1)),f(t("input",{type:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=s=>o.form.email=s),required:"",disabled:o.loading},null,8,to),[[p,o.form.email]])]),t("div",so,[e[10]||(e[10]=t("label",{for:"password"},"Password:",-1)),f(t("input",{type:"password",id:"password","onUpdate:modelValue":e[2]||(e[2]=s=>o.form.password=s),required:"",minlength:"8",disabled:o.loading},null,8,io),[[p,o.form.password]])]),t("div",no,[e[11]||(e[11]=t("label",{for:"passwordConfirm"},"Confirm Password:",-1)),f(t("input",{type:"password",id:"passwordConfirm","onUpdate:modelValue":e[3]||(e[3]=s=>o.form.passwordConfirm=s),required:"",minlength:"8",disabled:o.loading},null,8,ao),[[p,o.form.passwordConfirm]])]),o.error?(l(),r("div",lo,m(o.error),1)):v("",!0),t("div",ro,[t("button",{type:"submit",disabled:o.loading||!o.isFormValid},m(o.loading?"Registering...":"Register"),9,mo),t("button",{type:"button",onClick:e[4]||(e[4]=(...s)=>o.closeModal&&o.closeModal(...s)),disabled:o.loading}," Cancel ",8,co)])],32)])])}const go=I(Ye,[["render",uo],["__scopeId","data-v-d5de55ea"]]),fo={name:"EditModal",props:{item:{type:Object,default:null}},emits:["close","save"],setup(u,{emit:e}){const n=y(!1),o=y(""),c=y([]),d=y(null),s=B({category:"game",title:"",release:"",rating:"",count:"",platforms:"",genre:"",link:"",path:"",discovered:"",spielzeit:"",isAiring:!1,nextSeason:"",nextSeasonRelease:"",imageUrl:""}),k=_(()=>!!u.item),b=_(()=>s.category==="game"||s.category==="games_new"),S=_(()=>s.category==="series"||s.category==="series_new");return ye(()=>u.item,a=>{a?Object.keys(s).forEach(h=>{s[h]=a[h]||""}):Object.keys(s).forEach(h=>{s[h]=h==="category"?"game":""})},{immediate:!0}),{form:s,loading:n,error:o,apiResults:c,isEditing:k,isGame:b,isSeries:S,handleSave:async()=>{if(!s.title){o.value="Title is required";return}n.value=!0,o.value="";try{const a={...s};Object.keys(a).forEach(h=>{a[h]===""&&(a[h]=null)}),a.rating&&(a.rating=parseFloat(a.rating)),a.count&&(a.count=parseInt(a.count)),a.spielzeit&&(a.spielzeit=parseInt(a.spielzeit)),a.nextSeason&&(a.nextSeason=parseInt(a.nextSeason)),e("save",a)}catch(a){o.value=a.message||"Failed to save item"}finally{n.value=!1}},closeModal:()=>{e("close")},searchApi:async()=>{if(d.value&&clearTimeout(d.value),!s.title||s.title.length<3){c.value=[];return}d.value=setTimeout(async()=>{try{const a=await Se.fetchApiData(s.title,s.category);a&&a.success?c.value=[a]:c.value=[{title:`"${s.title}" - API nicht verfügbar`,release:"",genre:"Bitte manuell ausfüllen",isPlaceholder:!0}]}catch(a){console.error("API search failed:",a),c.value=[{title:`"${s.title}" - API nicht verfügbar`,release:"",genre:"Bitte manuell ausfüllen",isPlaceholder:!0}]}},500)},selectApiResult:a=>{if(a.isPlaceholder){c.value=[];return}s.title=a.title,a.release&&(s.release=a.release),a.platforms&&(s.platforms=a.platforms),a.genre&&(s.genre=a.genre),a.link&&(s.link=a.link),a.path&&(s.path=a.path),a.imageUrl&&(s.imageUrl=a.imageUrl),c.value=[]},formatDate:a=>a?new Date(a).toLocaleDateString():""}}},vo={class:"form-row"},po={class:"form-group"},bo={class:"form-row"},yo={class:"form-group"},_o={class:"search-container"},ko=["disabled"],wo={key:0,class:"search-results"},ho=["onClick"],So={class:"result-title"},Mo={class:"result-meta"},Co={key:0},Io={key:1},xo={class:"form-row"},Ro={class:"form-group"},Ao={class:"form-group"},Lo={class:"form-row"},Vo={class:"form-group"},Uo={class:"form-group"},Eo={class:"form-row"},Fo={class:"form-group"},Po={class:"form-group"},Do={class:"form-row"},No={class:"form-group"},To={class:"form-group"},Bo={key:0,class:"form-row"},zo={class:"form-group"},qo={key:1,class:"form-row"},Go={class:"form-group"},jo={key:0,class:"form-group"},Oo={key:2,class:"form-row"},Qo={class:"form-group"},Wo={class:"form-row"},Zo={class:"form-group"},Xo={key:3,class:"error-message"},Ho={class:"modal-buttons"},Jo=["disabled"],Ko=["disabled"];function Yo(u,e,n,o,c,d){return l(),r("div",{class:"modal",onClick:e[19]||(e[19]=(...s)=>o.closeModal&&o.closeModal(...s))},[t("div",{class:"modal-content",onClick:e[18]||(e[18]=M(()=>{},["stop"]))},[t("h2",null,m(o.isEditing?"Edit Item":"Add Item"),1),t("form",{onSubmit:e[17]||(e[17]=M((...s)=>o.handleSave&&o.handleSave(...s),["prevent"]))},[t("div",vo,[t("div",po,[e[21]||(e[21]=t("label",{for:"category"},"Category:",-1)),f(t("select",{id:"category","onUpdate:modelValue":e[0]||(e[0]=s=>o.form.category=s),required:""},[...e[20]||(e[20]=[Q('<option value="game" data-v-ffda6066>Game</option><option value="series" data-v-ffda6066>Series</option><option value="movie" data-v-ffda6066>Movie</option><option value="games_new" data-v-ffda6066>Games New</option><option value="series_new" data-v-ffda6066>Series New</option><option value="movie_new" data-v-ffda6066>Movies New</option>',6)])],512),[[N,o.form.category]])])]),t("div",bo,[t("div",yo,[e[22]||(e[22]=t("label",{for:"title"},"Title:",-1)),t("div",_o,[f(t("input",{type:"text",id:"title","onUpdate:modelValue":e[1]||(e[1]=s=>o.form.title=s),onInput:e[2]||(e[2]=(...s)=>o.searchApi&&o.searchApi(...s)),required:"",placeholder:"Enter title",disabled:o.loading},null,40,ko),[[p,o.form.title]]),o.apiResults.length>0?(l(),r("div",wo,[(l(!0),r(A,null,L(o.apiResults,s=>(l(),r("div",{key:s.title,class:"search-result-item",onClick:k=>o.selectApiResult(s)},[t("div",So,m(s.title),1),t("div",Mo,[s.release?(l(),r("span",Co,m(o.formatDate(s.release)),1)):v("",!0),s.genre?(l(),r("span",Io,m(s.genre),1)):v("",!0)])],8,ho))),128))])):v("",!0)])])]),t("div",xo,[t("div",Ro,[e[23]||(e[23]=t("label",{for:"release"},"Release:",-1)),f(t("input",{type:"date",id:"release","onUpdate:modelValue":e[3]||(e[3]=s=>o.form.release=s)},null,512),[[p,o.form.release]])]),t("div",Ao,[e[24]||(e[24]=t("label",{for:"rating"},"Rating:",-1)),f(t("input",{type:"number",id:"rating","onUpdate:modelValue":e[4]||(e[4]=s=>o.form.rating=s),step:"0.1",min:"0",max:"10",placeholder:"0-10"},null,512),[[p,o.form.rating]])])]),t("div",Lo,[t("div",Vo,[e[25]||(e[25]=t("label",{for:"views"},"Views:",-1)),f(t("input",{type:"number",id:"views","onUpdate:modelValue":e[5]||(e[5]=s=>o.form.count=s),min:"0",placeholder:"0"},null,512),[[p,o.form.count]])]),t("div",Uo,[e[26]||(e[26]=t("label",{for:"discovered"},"Discovered:",-1)),f(t("input",{type:"date",id:"discovered","onUpdate:modelValue":e[6]||(e[6]=s=>o.form.discovered=s)},null,512),[[p,o.form.discovered]])])]),t("div",Eo,[t("div",Fo,[e[27]||(e[27]=t("label",{for:"platforms"},"Platforms:",-1)),f(t("input",{type:"text",id:"platforms","onUpdate:modelValue":e[7]||(e[7]=s=>o.form.platforms=s),placeholder:"PC, PS5, Xbox"},null,512),[[p,o.form.platforms]])]),t("div",Po,[e[28]||(e[28]=t("label",{for:"genre"},"Genre:",-1)),f(t("input",{type:"text",id:"genre","onUpdate:modelValue":e[8]||(e[8]=s=>o.form.genre=s),placeholder:"Action, Adventure, RPG"},null,512),[[p,o.form.genre]])])]),t("div",Do,[t("div",No,[e[29]||(e[29]=t("label",{for:"link"},"Link:",-1)),f(t("input",{type:"url",id:"link","onUpdate:modelValue":e[9]||(e[9]=s=>o.form.link=s),placeholder:"https://..."},null,512),[[p,o.form.link]])]),t("div",To,[e[30]||(e[30]=t("label",{for:"path"},"Image Path:",-1)),f(t("input",{type:"text",id:"path","onUpdate:modelValue":e[10]||(e[10]=s=>o.form.path=s),placeholder:"images/movies/filename.jpg"},null,512),[[p,o.form.path]])])]),o.isGame?(l(),r("div",Bo,[t("div",zo,[e[31]||(e[31]=t("label",{for:"playtime"},"Playtime (Minutes):",-1)),f(t("input",{type:"number",id:"playtime","onUpdate:modelValue":e[11]||(e[11]=s=>o.form.spielzeit=s),min:"0",placeholder:"0"},null,512),[[p,o.form.spielzeit]])])])):v("",!0),o.isSeries?(l(),r("div",qo,[t("div",Go,[e[33]||(e[33]=t("label",{for:"isAiring"},"Status:",-1)),f(t("select",{id:"isAiring","onUpdate:modelValue":e[12]||(e[12]=s=>o.form.isAiring=s)},[...e[32]||(e[32]=[t("option",{value:!1},"Finished",-1),t("option",{value:!0},"Airing",-1)])],512),[[N,o.form.isAiring]])]),o.form.isAiring?(l(),r("div",jo,[e[34]||(e[34]=t("label",{for:"nextSeason"},"Next Season:",-1)),f(t("input",{type:"number",id:"nextSeason","onUpdate:modelValue":e[13]||(e[13]=s=>o.form.nextSeason=s),min:"1",placeholder:"1"},null,512),[[p,o.form.nextSeason]])])):v("",!0)])):v("",!0),o.form.isAiring?(l(),r("div",Oo,[t("div",Qo,[e[35]||(e[35]=t("label",{for:"nextSeasonRelease"},"Next Season Release:",-1)),f(t("input",{type:"date",id:"nextSeasonRelease","onUpdate:modelValue":e[14]||(e[14]=s=>o.form.nextSeasonRelease=s)},null,512),[[p,o.form.nextSeasonRelease]])])])):v("",!0),t("div",Wo,[t("div",Zo,[e[36]||(e[36]=t("label",{for:"imageUrl"},"Image URL:",-1)),f(t("input",{type:"url",id:"imageUrl","onUpdate:modelValue":e[15]||(e[15]=s=>o.form.imageUrl=s),placeholder:"https://..."},null,512),[[p,o.form.imageUrl]])])]),o.error?(l(),r("div",Xo,m(o.error),1)):v("",!0),t("div",Ho,[t("button",{type:"submit",disabled:o.loading},m(o.loading?"Saving...":"Save"),9,Jo),t("button",{type:"button",onClick:e[16]||(e[16]=(...s)=>o.closeModal&&o.closeModal(...s)),disabled:o.loading}," Cancel ",8,Ko)])],32)])])}const $o=I(fo,[["render",Yo],["__scopeId","data-v-ffda6066"]]),et={name:"LoadingSpinner",props:{loading:{type:Boolean,default:!0},message:{type:String,default:"Loading..."}}},ot={key:0,class:"loading-spinner"},tt={key:0};function st(u,e,n,o,c,d){return n.loading?(l(),r("div",ot,[e[0]||(e[0]=t("div",{class:"spinner"},null,-1)),n.message?(l(),r("p",tt,m(n.message),1)):v("",!0)])):v("",!0)}const it=I(et,[["render",st],["__scopeId","data-v-b6e4a334"]]),nt={name:"VersionInfo",data(){return{version:"1.0.0"}}},at={class:"version-info"},lt={class:"version-label"};function rt(u,e,n,o,c,d){return l(),r("div",at,[t("span",lt,"Build #"+m(c.version),1)])}const dt=I(nt,[["render",rt],["__scopeId","data-v-2d54e3c7"]]),mt={name:"MediaLibrary",components:{MediaItem:ze,LoginModal:Ke,RegisterModal:go,EditModal:$o,LoadingSpinner:it,VersionInfo:dt},setup(){const u=he(),e=z(),n=Me(),o=y(!1),c=y(!1),d=y(!1),s=y(!1),k=y(!1),b=y(null),S=y(8),V=y("order_asc"),D=[{key:"game",name:"Games",icon:"🎮"},{key:"series",name:"Series",icon:"📺"},{key:"movie",name:"Movies",icon:"🎬"},{key:"games_new",name:"Games New",icon:"🎯"},{key:"series_new",name:"Series New",icon:"⭐"},{key:"movie_new",name:"Movies New",icon:"✨"}],i=_(()=>e.isLoggedIn),C=_(()=>e.userName),q=_(()=>n.currentCategory),a=_({get:()=>n.searchQuery,set:g=>n.setSearchQuery(g)}),h=_(()=>n.categoryCounts),W=_(()=>n.loading),Z=_(()=>n.error),X=_(()=>{const g=[...n.filteredMedia],[w,E]=V.value.split("_");return g.sort((j,O)=>{let x=j[w],F=O[w];return w==="order"&&(x=j.__order||0,F=O.__order||0),typeof x=="string"&&(x=x.toLowerCase(),F=F.toLowerCase()),E==="asc"?x>F?1:-1:x<F?1:-1})}),H=_(()=>X.value),J=_(()=>{const g=new Set;return n.mediaData.forEach(w=>{w.platforms&&w.platforms.split(",").forEach(E=>g.add(E.trim()))}),Array.from(g).sort()}),K=_(()=>{const g=new Set;return n.mediaData.forEach(w=>{w.genre&&w.genre.split(",").forEach(E=>g.add(E.trim()))}),Array.from(g).sort()}),Y=()=>{o.value=!o.value},$=()=>{},ee=g=>{n.setCategory(g)},oe=()=>{n.setSearchQuery("")},te=()=>{u.push("/statistics")},se=()=>{u.push("/profile")},ie=(g,w)=>{w?n.addFilter({type:"platform",value:g}):n.removeFilter({type:"platform",value:g})},ne=(g,w)=>{w?n.addFilter({type:"genre",value:g}):n.removeFilter({type:"genre",value:g})},ae=g=>{b.value=g,s.value=!0},le=async g=>{confirm("Are you sure you want to delete this item?")&&await n.deleteMediaItem(g.id)},re=()=>{c.value=!1,d.value=!0},de=()=>{c.value=!1,U()},me=()=>{d.value=!1,U()},G=()=>{s.value=!1,b.value=null},ce=async g=>{b.value?await n.updateMediaItem(b.value.id,g):await n.addMediaItem(g),G()},ue=async()=>{await e.logout(),U()},U=async()=>{await n.loadMedia()},ge=()=>{k.value=!k.value},fe=()=>{if(k.value=!1,!i.value){alert("Bitte loggen Sie sich ein, um neue Items hinzuzufügen.");return}b.value=null,s.value=!0},ve=()=>{if(k.value=!1,!i.value){alert("Bitte loggen Sie sich ein, um diese Funktion zu nutzen.");return}alert("Bulk Add feature coming soon!")},pe=()=>{if(k.value=!1,!i.value){alert("Bitte loggen Sie sich ein, um diese Funktion zu nutzen.");return}alert("API Import feature coming soon!")},be=()=>{if(k.value=!1,!i.value){alert("Bitte loggen Sie sich ein, um diese Funktion zu nutzen.");return}alert("Collection creation feature coming soon!")};return we(async()=>{await e.initializeAuth(),await U()}),{sidebarCollapsed:o,showLoginModal:c,showRegisterModal:d,showEditModal:s,showFloatingMenu:k,editingItem:b,gridColumns:S,sortBy:V,categories:D,isLoggedIn:i,userName:C,currentCategory:q,searchQuery:a,categoryCounts:h,loading:W,error:Z,paginatedMedia:H,platforms:J,genres:K,toggleSidebar:Y,toggleMobileSidebar:$,setCategory:ee,clearSearch:oe,navigateToStatistics:te,navigateToProfile:se,togglePlatformFilter:ie,toggleGenreFilter:ne,editItem:ae,deleteItem:le,switchToRegister:re,handleLoginSuccess:de,handleRegisterSuccess:me,closeEditModal:G,handleSaveItem:ce,logout:ue,loadMedia:U,toggleFloatingMenu:ge,addNewItem:fe,bulkAddItems:ve,importFromAPI:pe,createCollection:be}}},ct={class:"vue-app"},ut={class:"sidebar-content"},gt={class:"sidebar-section"},ft={class:"sidebar-nav"},vt=["onClick"],pt={class:"nav-icon"},bt={class:"nav-text"},yt={class:"nav-count"},_t={key:0,class:"sidebar-section"},kt={class:"filter-section"},wt={class:"filter-group"},ht={class:"filter-checkboxes"},St=["value","onChange"],Mt={class:"option-text"},Ct={class:"filter-group"},It={class:"filter-checkboxes"},xt=["value","onChange"],Rt={class:"option-text"},At={class:"sidebar-section"},Lt={key:0,class:"auth-buttons"},Vt={key:1,class:"user-info"},Ut={class:"user-profile"},Et={class:"profile-details"},Ft={class:"user-name"},Pt={class:"main-content"},Dt={class:"main-header"},Nt={class:"header-left"},Tt={class:"header-center"},Bt={class:"search-container"},zt={class:"header-right"},qt={class:"grid-count-container"},Gt=["value"],jt={class:"sort-container"},Ot={class:"content-area"},Qt={key:1,class:"error"},Wt={class:"floating-actions"};function Zt(u,e,n,o,c,d){const s=R("VersionInfo"),k=R("LoadingSpinner"),b=R("MediaItem"),S=R("LoginModal"),V=R("RegisterModal"),D=R("EditModal");return l(),r("div",ct,[t("aside",{id:"sidebar",class:T(["sidebar",{collapsed:o.sidebarCollapsed}])},[t("div",{class:"sidebar-header",onClick:e[0]||(e[0]=(...i)=>o.toggleSidebar&&o.toggleSidebar(...i))},[...e[19]||(e[19]=[t("h2",null,"Media Library",-1),t("button",{class:"sidebar-toggle"},"☰",-1)])]),t("div",ut,[t("div",gt,[e[21]||(e[21]=t("h3",null,"Browse",-1)),t("nav",ft,[(l(!0),r(A,null,L(o.categories,i=>(l(),r("button",{key:i.key,class:T(["nav-btn",{active:o.currentCategory===i.key}]),onClick:C=>o.setCategory(i.key)},[t("span",pt,m(i.icon),1),t("span",bt,m(i.name),1),t("span",yt,m(o.categoryCounts[i.key]||0),1)],10,vt))),128)),t("button",{class:"nav-btn",onClick:e[1]||(e[1]=(...i)=>o.navigateToStatistics&&o.navigateToStatistics(...i))},[...e[20]||(e[20]=[t("span",{class:"nav-icon"},"📊",-1),t("span",{class:"nav-text"},"Statistics",-1)])])])]),o.isLoggedIn?(l(),r("div",_t,[e[26]||(e[26]=t("h3",null,"Filters",-1)),t("div",kt,[t("div",wt,[e[23]||(e[23]=t("h4",null,"Platforms",-1)),t("div",ht,[(l(!0),r(A,null,L(o.platforms,i=>(l(),r("label",{key:i,class:"filter-option"},[t("input",{type:"checkbox",value:i,onChange:C=>o.togglePlatformFilter(i,C.target.checked)},null,40,St),e[22]||(e[22]=t("span",{class:"checkmark"},null,-1)),t("span",Mt,m(i),1)]))),128))])]),t("div",Ct,[e[25]||(e[25]=t("h4",null,"Genres",-1)),t("div",It,[(l(!0),r(A,null,L(o.genres,i=>(l(),r("label",{key:i,class:"filter-option"},[t("input",{type:"checkbox",value:i,onChange:C=>o.toggleGenreFilter(i,C.target.checked)},null,40,xt),e[24]||(e[24]=t("span",{class:"checkmark"},null,-1)),t("span",Rt,m(i),1)]))),128))])])])])):v("",!0),t("div",At,[e[28]||(e[28]=t("h3",null,"Account",-1)),o.isLoggedIn?(l(),r("div",Vt,[t("div",Ut,[e[27]||(e[27]=t("div",{class:"profile-avatar"},[t("span",{class:"avatar-text"},"👤")],-1)),t("div",Et,[t("span",Ft,m(o.userName),1)]),t("button",{class:"account-btn",onClick:e[4]||(e[4]=(...i)=>o.navigateToProfile&&o.navigateToProfile(...i))},"⚙️")]),t("button",{class:"auth-btn",onClick:e[5]||(e[5]=(...i)=>o.logout&&o.logout(...i))},"Logout")])):(l(),r("div",Lt,[t("button",{class:"auth-btn",onClick:e[2]||(e[2]=i=>o.showLoginModal=!0)},"Login"),t("button",{class:"auth-btn",onClick:e[3]||(e[3]=i=>o.showRegisterModal=!0)},"Register")]))])]),_e(s)],2),t("div",Pt,[t("header",Dt,[t("div",Nt,[t("button",{class:"mobile-sidebar-toggle",onClick:e[6]||(e[6]=(...i)=>o.toggleMobileSidebar&&o.toggleMobileSidebar(...i))},"☰")]),t("div",Tt,[t("div",Bt,[f(t("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=i=>o.searchQuery=i),placeholder:"Search..."},null,512),[[p,o.searchQuery]]),t("button",{class:"search-clear",onClick:e[8]||(e[8]=(...i)=>o.clearSearch&&o.clearSearch(...i))},"×")])]),t("div",zt,[t("div",qt,[e[29]||(e[29]=t("label",null,"Columns:",-1)),f(t("select",{"onUpdate:modelValue":e[9]||(e[9]=i=>o.gridColumns=i)},[(l(),r(A,null,L(12,i=>t("option",{key:i,value:i},m(i),9,Gt)),64))],512),[[N,o.gridColumns]])]),t("div",jt,[f(t("select",{"onUpdate:modelValue":e[10]||(e[10]=i=>o.sortBy=i)},[...e[30]||(e[30]=[Q('<option value="order_asc" data-v-0bcdcf34>Original order ↑</option><option value="order_desc" data-v-0bcdcf34>Original order ↓</option><option value="title_asc" data-v-0bcdcf34>Title A-Z</option><option value="title_desc" data-v-0bcdcf34>Title Z-A</option><option value="release_asc" data-v-0bcdcf34>Release ↑</option><option value="release_desc" data-v-0bcdcf34>Release ↓</option><option value="rating_asc" data-v-0bcdcf34>Rating ↑</option><option value="rating_desc" data-v-0bcdcf34>Rating ↓</option>',8)])],512),[[N,o.sortBy]])])])]),t("main",Ot,[o.loading?(l(),P(k,{key:0,message:"Loading media data..."})):o.error?(l(),r("div",Qt,[t("p",null,m(o.error),1),t("button",{onClick:e[11]||(e[11]=(...i)=>o.loadMedia&&o.loadMedia(...i))},"Retry")])):(l(),r("div",{key:2,class:"grid",style:ke({gridTemplateColumns:`repeat(${o.gridColumns}, 1fr)`})},[(l(!0),r(A,null,L(o.paginatedMedia,i=>(l(),P(b,{key:i.id,item:i,onEdit:o.editItem,onDelete:o.deleteItem},null,8,["item","onEdit","onDelete"]))),128))],4))])]),o.showLoginModal?(l(),P(S,{key:0,onClose:e[12]||(e[12]=i=>o.showLoginModal=!1),onSuccess:o.handleLoginSuccess,onSwitchToRegister:o.switchToRegister},null,8,["onSuccess","onSwitchToRegister"])):v("",!0),o.showRegisterModal?(l(),P(V,{key:1,onClose:e[13]||(e[13]=i=>o.showRegisterModal=!1),onSuccess:o.handleRegisterSuccess},null,8,["onSuccess"])):v("",!0),o.showEditModal?(l(),P(D,{key:2,item:o.editingItem,onClose:o.closeEditModal,onSave:o.handleSaveItem},null,8,["item","onClose","onSave"])):v("",!0),t("div",Wt,[t("div",{class:T(["floating-menu",{show:o.showFloatingMenu}])},[t("button",{class:"floating-menu-item",onClick:e[14]||(e[14]=(...i)=>o.addNewItem&&o.addNewItem(...i))},[...e[31]||(e[31]=[t("span",{class:"menu-icon"},"➕",-1),t("span",{class:"menu-text"},"Add Item",-1)])]),t("button",{class:"floating-menu-item",onClick:e[15]||(e[15]=(...i)=>o.bulkAddItems&&o.bulkAddItems(...i))},[...e[32]||(e[32]=[t("span",{class:"menu-icon"},"📦",-1),t("span",{class:"menu-text"},"Bulk Add",-1)])]),t("button",{class:"floating-menu-item",onClick:e[16]||(e[16]=(...i)=>o.importFromAPI&&o.importFromAPI(...i))},[...e[33]||(e[33]=[t("span",{class:"menu-icon"},"🌐",-1),t("span",{class:"menu-text"},"Import from API",-1)])]),t("button",{class:"floating-menu-item",onClick:e[17]||(e[17]=(...i)=>o.createCollection&&o.createCollection(...i))},[...e[34]||(e[34]=[t("span",{class:"menu-icon"},"📚",-1),t("span",{class:"menu-text"},"Create Collection",-1)])])],2),t("button",{class:"floating-add-btn",onClick:e[18]||(e[18]=(...i)=>o.toggleFloatingMenu&&o.toggleFloatingMenu(...i))},m(o.showFloatingMenu?"✕":"+"),1)])])}const Kt=I(mt,[["render",Zt],["__scopeId","data-v-0bcdcf34"]]);export{Kt as default};
