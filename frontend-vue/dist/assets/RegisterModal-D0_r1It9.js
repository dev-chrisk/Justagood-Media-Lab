import{_ as w,a as v,i as y,r as f,b as g,e as l,j as u,f as C,k as i,m as n,t as p,o as b,c as _}from"./index-DfPC7CVf.js";const k={name:"LoginModal",emits:["close","success"],setup(c,{emit:s}){const t=v(),o=y({email:"",password:""}),a=f(!1),e=f("");return{form:o,loading:a,error:e,handleLogin:async()=>{a.value=!0,e.value="";try{const r=await t.login(o.email,o.password);r.success?s("success",r):e.value=r.error}catch(r){e.value=r.message||"Login failed"}finally{a.value=!1}},closeModal:()=>{s("close")}}}},L={class:"form-group"},R=["disabled"],V={class:"form-group"},q=["disabled"],x={key:0,class:"error-message"},S={class:"modal-buttons"},U=["disabled"],P=["disabled"];function B(c,s,t,o,a,e){return b(),g("div",{class:"modal",onClick:s[5]||(s[5]=(...d)=>o.closeModal&&o.closeModal(...d))},[l("div",{class:"modal-content auth-modal",onClick:s[4]||(s[4]=u(()=>{},["stop"]))},[s[8]||(s[8]=l("h2",null,"Login",-1)),l("form",{onSubmit:s[3]||(s[3]=u((...d)=>o.handleLogin&&o.handleLogin(...d),["prevent"]))},[l("div",L,[s[6]||(s[6]=l("label",{for:"email"},"Email:",-1)),i(l("input",{type:"email",id:"email","onUpdate:modelValue":s[0]||(s[0]=d=>o.form.email=d),required:"",disabled:o.loading},null,8,R),[[n,o.form.email]])]),l("div",V,[s[7]||(s[7]=l("label",{for:"password"},"Password:",-1)),i(l("input",{type:"password",id:"password","onUpdate:modelValue":s[1]||(s[1]=d=>o.form.password=d),required:"",disabled:o.loading},null,8,q),[[n,o.form.password]])]),o.error?(b(),g("div",x,p(o.error),1)):C("",!0),l("div",S,[l("button",{type:"submit",disabled:o.loading},p(o.loading?"Logging in...":"Login"),9,U),l("button",{type:"button",onClick:s[2]||(s[2]=(...d)=>o.closeModal&&o.closeModal(...d)),disabled:o.loading}," Cancel ",8,P)])],32)])])}const Q=w(k,[["render",B],["__scopeId","data-v-f686f260"]]),E={name:"RegisterModal",emits:["close","success"],setup(c,{emit:s}){const t=v(),o=y({name:"",email:"",password:"",passwordConfirm:""}),a=f(!1),e=f(""),d=_(()=>o.name&&o.email&&o.password&&o.passwordConfirm&&o.password===o.passwordConfirm&&o.password.length>=8);return{form:o,loading:a,error:e,isFormValid:d,handleRegister:async()=>{if(!d.value){e.value="Please fill in all fields and ensure passwords match";return}a.value=!0,e.value="";try{const m=await t.register(o.name,o.email,o.password,o.passwordConfirm);m.success?s("success"):e.value=m.error}catch(m){e.value=m.message||"Registration failed"}finally{a.value=!1}},closeModal:()=>{s("close")}}}},N={class:"form-group"},D=["disabled"],F={class:"form-group"},I=["disabled"],h={class:"form-group"},j=["disabled"],A={class:"form-group"},T=["disabled"],z={key:0,class:"error-message"},G={class:"modal-buttons"},H=["disabled"],J=["disabled"];function K(c,s,t,o,a,e){return b(),g("div",{class:"modal",onClick:s[7]||(s[7]=(...d)=>o.closeModal&&o.closeModal(...d))},[l("div",{class:"modal-content auth-modal",onClick:s[6]||(s[6]=u(()=>{},["stop"]))},[s[12]||(s[12]=l("h2",null,"Register",-1)),l("form",{onSubmit:s[5]||(s[5]=u((...d)=>o.handleRegister&&o.handleRegister(...d),["prevent"]))},[l("div",N,[s[8]||(s[8]=l("label",{for:"name"},"Name:",-1)),i(l("input",{type:"text",id:"name","onUpdate:modelValue":s[0]||(s[0]=d=>o.form.name=d),required:"",disabled:o.loading},null,8,D),[[n,o.form.name]])]),l("div",F,[s[9]||(s[9]=l("label",{for:"email"},"Email:",-1)),i(l("input",{type:"email",id:"email","onUpdate:modelValue":s[1]||(s[1]=d=>o.form.email=d),required:"",disabled:o.loading},null,8,I),[[n,o.form.email]])]),l("div",h,[s[10]||(s[10]=l("label",{for:"password"},"Password:",-1)),i(l("input",{type:"password",id:"password","onUpdate:modelValue":s[2]||(s[2]=d=>o.form.password=d),required:"",minlength:"8",disabled:o.loading},null,8,j),[[n,o.form.password]])]),l("div",A,[s[11]||(s[11]=l("label",{for:"passwordConfirm"},"Confirm Password:",-1)),i(l("input",{type:"password",id:"passwordConfirm","onUpdate:modelValue":s[3]||(s[3]=d=>o.form.passwordConfirm=d),required:"",minlength:"8",disabled:o.loading},null,8,T),[[n,o.form.passwordConfirm]])]),o.error?(b(),g("div",z,p(o.error),1)):C("",!0),l("div",G,[l("button",{type:"submit",disabled:o.loading||!o.isFormValid},p(o.loading?"Registering...":"Register"),9,H),l("button",{type:"button",onClick:s[4]||(s[4]=(...d)=>o.closeModal&&o.closeModal(...d)),disabled:o.loading}," Cancel ",8,J)])],32)])])}const W=w(E,[["render",K],["__scopeId","data-v-d5de55ea"]]);export{Q as L,W as R};
