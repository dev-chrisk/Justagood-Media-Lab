import{_ as ge,b as c,e as n,D as W,p as Y,f as S,n as G,z as f,t as m,F as w,x as k,a as ue,r as g,c as d,j as ve,u as me,o as r}from"./index-CWgvGW_V.js";import{S as he,u as ye,a as Se}from"./Sidebar-DNrinIvZ.js";import{R as fe,L as Me,M as De}from"./RegisterModal-BoOEP_pz.js";const be={name:"Calendar",components:{Sidebar:he,MainHeader:De,LoginModal:Me,RegisterModal:fe},setup(){const T=me(),t=ue();ye();const M=Se(),e=g(!1),h=g(!1),D=g(""),b=g(4),_=g("title"),l=g(new Date),u=g(null),o=g(!1),L=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],U=d(()=>t.isLoggedIn),I=d(()=>{var s;return((s=t.user)==null?void 0:s.name)||""}),O=d(()=>"calendar"),Q=d(()=>({})),H=d(()=>[]),V=d(()=>[]),j=d(()=>[{key:"game",name:"Games",icon:"🎮"},{key:"series",name:"Series",icon:"📺"},{key:"movie",name:"Movies",icon:"🎬"},{key:"watchlist",name:"Watchlist",icon:"❤️"}]),R=d(()=>l.value.getFullYear()),F=d(()=>l.value.getMonth()),q=d(()=>l.value.toLocaleDateString("en-US",{month:"long"})),N=d(()=>{const s=R.value,a=F.value,v=new Date(s,a,1),y=new Date(v),x=v.getDay(),re=x===0?6:x-1;y.setDate(y.getDate()-re);const E=[],le=new Date;for(let C=0;C<42;C++){const i=new Date(y);i.setDate(y.getDate()+C);const ie=i.getMonth()===a,ce=i.toDateString()===le.toDateString(),de=i.getDay()===0||i.getDay()===6;E.push({date:i.getDate(),month:i.getMonth(),year:i.getFullYear(),fullDate:new Date(i),isCurrentMonth:ie,isToday:ce,isWeekend:de,hasEvents:P(i),events:B(i)})}return E}),z=()=>{},p=()=>{D.value=""},A=()=>{},J=()=>{T.push("/profile"),M.closeMobileSidebar()},K=()=>{},X=()=>{},Z=()=>{t.logout()},$=()=>{e.value=!1,h.value=!0},ee=()=>{e.value=!1},oe=()=>{h.value=!1},te=()=>{o.value=!0,l.value=new Date(l.value.getFullYear(),l.value.getMonth()-1,1),u.value=null,setTimeout(()=>{o.value=!1},150)},ne=()=>{o.value=!0,l.value=new Date(l.value.getFullYear(),l.value.getMonth()+1,1),u.value=null,setTimeout(()=>{o.value=!1},150)},se=s=>{s.isCurrentMonth&&(u.value=s)},ae=s=>s.fullDate.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),P=s=>{const a=s.getDate();return s.getMonth(),a%7===0||a===15||a===25},B=s=>{const a=s.getDate(),v=[];return a%7===0&&v.push({id:1,title:"Weekly Review",time:"10:00"}),a===15&&v.push({id:2,title:"Team Meeting",time:"14:00"}),a===25&&v.push({id:3,title:"Project Deadline",time:"17:00"}),v};return ve(()=>{const s=N.value.find(a=>a.isToday&&a.isCurrentMonth);s&&(u.value=s)}),{showLoginModal:e,showRegisterModal:h,searchQuery:D,gridColumns:b,sortBy:_,currentDate:l,selectedDay:u,isLoading:o,weekdays:L,isLoggedIn:U,userName:I,currentCategory:O,categoryCounts:Q,platforms:H,genres:V,categories:j,currentYear:R,currentMonth:F,currentMonthName:q,calendarDays:N,setCategory:z,clearSearch:p,navigateToCalendar:A,navigateToProfile:J,togglePlatformFilter:K,toggleGenreFilter:X,logout:Z,switchToRegister:$,handleLoginSuccess:ee,handleRegisterSuccess:oe,previousMonth:te,nextMonth:ne,selectDay:se,formatSelectedDay:ae,hasEventsForDate:P,getEventsForDate:B,sidebarStore:M}}},_e={class:"vue-app"},Ce={class:"main-content"},we={class:"content-area"},ke={class:"calendar-view"},Te={class:"calendar-header"},Le=["disabled"],Re={class:"month-year-display"},Fe={class:"month-name"},Ne={class:"year"},Pe=["disabled"],Be={class:"calendar-container"},xe={class:"calendar-grid"},Ee=["onClick"],We={class:"day-number"},Ye={key:0,class:"event-indicator"},Ge={key:0,class:"selected-day-info"},Ue={class:"day-events"},Ie={key:0,class:"no-events"},Oe={key:1,class:"events-list"},Qe={class:"event-time"},He={class:"event-title"};function Ve(T,t,M,e,h,D){const b=f("Sidebar"),_=f("MainHeader"),l=f("LoginModal"),u=f("RegisterModal");return r(),c("div",_e,[n("div",{class:G(["mobile-overlay",{show:e.sidebarStore.mobileOpen}]),onClick:t[0]||(t[0]=(...o)=>e.sidebarStore.closeMobileSidebar&&e.sidebarStore.closeMobileSidebar(...o))},null,2),W(b,{collapsed:e.sidebarStore.collapsed,"mobile-open":e.sidebarStore.mobileOpen,"is-logged-in":e.isLoggedIn,"user-name":e.userName,"current-category":e.currentCategory,"category-counts":e.categoryCounts,platforms:e.platforms,genres:e.genres,categories:e.categories,onToggle:e.sidebarStore.toggleSidebar,onSetCategory:e.setCategory,onNavigateToCalendar:e.navigateToCalendar,onNavigateToProfile:e.navigateToProfile,onTogglePlatformFilter:e.togglePlatformFilter,onToggleGenreFilter:e.toggleGenreFilter,onShowLogin:t[1]||(t[1]=o=>e.showLoginModal=!0),onShowRegister:t[2]||(t[2]=o=>e.showRegisterModal=!0),onLogout:e.logout},null,8,["collapsed","mobile-open","is-logged-in","user-name","current-category","category-counts","platforms","genres","categories","onToggle","onSetCategory","onNavigateToCalendar","onNavigateToProfile","onTogglePlatformFilter","onToggleGenreFilter","onLogout"]),n("div",Ce,[W(_,{"search-query":e.searchQuery,"onUpdate:searchQuery":t[3]||(t[3]=o=>e.searchQuery=o),"grid-columns":e.gridColumns,"onUpdate:gridColumns":t[4]||(t[4]=o=>e.gridColumns=o),"sort-by":e.sortBy,"onUpdate:sortBy":t[5]||(t[5]=o=>e.sortBy=o),onToggleMobileSidebar:e.sidebarStore.toggleMobileSidebar,onClearSearch:e.clearSearch},null,8,["search-query","grid-columns","sort-by","onToggleMobileSidebar","onClearSearch"]),n("main",we,[n("div",ke,[n("div",Te,[n("button",{class:"month-nav-btn",onClick:t[6]||(t[6]=(...o)=>e.previousMonth&&e.previousMonth(...o)),disabled:e.isLoading},[...t[10]||(t[10]=[n("span",{class:"nav-icon"},"‹",-1)])],8,Le),n("div",Re,[n("h2",Fe,m(e.currentMonthName),1),n("span",Ne,m(e.currentYear),1)]),n("button",{class:"month-nav-btn",onClick:t[7]||(t[7]=(...o)=>e.nextMonth&&e.nextMonth(...o)),disabled:e.isLoading},[...t[11]||(t[11]=[n("span",{class:"nav-icon"},"›",-1)])],8,Pe)]),n("div",Be,[n("div",xe,[(r(!0),c(w,null,k(e.weekdays,o=>(r(),c("div",{class:"weekday-header",key:o},m(o),1))),128)),(r(!0),c(w,null,k(e.calendarDays,o=>(r(),c("div",{key:`${o.date}-${o.month}`,class:G(["calendar-day",{"other-month":!o.isCurrentMonth,today:o.isToday,weekend:o.isWeekend,"has-events":o.hasEvents}]),onClick:L=>e.selectDay(o)},[n("span",We,m(o.day),1),o.hasEvents?(r(),c("div",Ye,[...t[12]||(t[12]=[n("div",{class:"event-dot"},null,-1)])])):S("",!0)],10,Ee))),128))])]),e.selectedDay?(r(),c("div",Ge,[n("h3",null,m(e.formatSelectedDay(e.selectedDay)),1),n("div",Ue,[!e.selectedDay.events||e.selectedDay.events.length===0?(r(),c("p",Ie," No events scheduled for this day ")):(r(),c("div",Oe,[(r(!0),c(w,null,k(e.selectedDay.events,o=>(r(),c("div",{key:o.id,class:"event-item"},[n("span",Qe,m(o.time),1),n("span",He,m(o.title),1)]))),128))]))])])):S("",!0)])])]),e.showLoginModal?(r(),Y(l,{key:0,onClose:t[8]||(t[8]=o=>e.showLoginModal=!1),onSwitchToRegister:e.switchToRegister,onLoginSuccess:e.handleLoginSuccess},null,8,["onSwitchToRegister","onLoginSuccess"])):S("",!0),e.showRegisterModal?(r(),Y(u,{key:1,onClose:t[9]||(t[9]=o=>e.showRegisterModal=!1),onRegisterSuccess:e.handleRegisterSuccess},null,8,["onRegisterSuccess"])):S("",!0)])}const pe=ge(be,[["render",Ve],["__scopeId","data-v-378952cd"]]);export{pe as default};
