import{_ as le,b as c,e as n,D as Y,p as P,f as S,n as U,z as M,t as h,F as w,x as k,a as ie,r as g,c as d,j as ce,u as de,o as r}from"./index-DL2gJxAr.js";import{S as ge,u as ue,a as ve}from"./Sidebar-D03Rc9sF.js";import{R as he,L as ye,M as me}from"./RegisterModal-3zn5QPOe.js";const Se={name:"Calendar",components:{Sidebar:ge,MainHeader:me,LoginModal:ye,RegisterModal:he},setup(){const L=de(),t=ie();ue();const D=ve(),e=g(!1),y=g(!1),b=g(""),f=g(4),_=g("title"),l=g(new Date),u=g(null),o=g(!1),T=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],I=d(()=>t.isLoggedIn),O=d(()=>{var s;return((s=t.user)==null?void 0:s.name)||""}),Q=d(()=>"calendar"),H=d(()=>({})),V=d(()=>[{key:"game",name:"Games",icon:"🎮"},{key:"series",name:"Series",icon:"📺"},{key:"movie",name:"Movies",icon:"🎬"},{key:"watchlist",name:"Watchlist",icon:"❤️"}]),R=d(()=>l.value.getFullYear()),N=d(()=>l.value.getMonth()),j=d(()=>l.value.toLocaleDateString("en-US",{month:"long"})),F=d(()=>{const s=R.value,a=N.value,v=new Date(s,a,1),m=new Date(v),E=v.getDay(),te=E===0?6:E-1;m.setDate(m.getDate()-te);const W=[],ne=new Date;for(let C=0;C<42;C++){const i=new Date(m);i.setDate(m.getDate()+C);const se=i.getMonth()===a,ae=i.toDateString()===ne.toDateString(),re=i.getDay()===0||i.getDay()===6;W.push({date:i.getDate(),month:i.getMonth(),year:i.getFullYear(),fullDate:new Date(i),isCurrentMonth:se,isToday:ae,isWeekend:re,hasEvents:B(i),events:x(i)})}return W}),q=()=>{},z=()=>{b.value=""},p=()=>{},A=()=>{L.push("/profile"),D.closeMobileSidebar()},G=()=>{t.logout()},J=()=>{e.value=!1,y.value=!0},K=()=>{e.value=!1},X=()=>{y.value=!1},Z=()=>{o.value=!0,l.value=new Date(l.value.getFullYear(),l.value.getMonth()-1,1),u.value=null,setTimeout(()=>{o.value=!1},150)},$=()=>{o.value=!0,l.value=new Date(l.value.getFullYear(),l.value.getMonth()+1,1),u.value=null,setTimeout(()=>{o.value=!1},150)},ee=s=>{s.isCurrentMonth&&(u.value=s)},oe=s=>s.fullDate.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),B=s=>{const a=s.getDate();return s.getMonth(),a%7===0||a===15||a===25},x=s=>{const a=s.getDate(),v=[];return a%7===0&&v.push({id:1,title:"Weekly Review",time:"10:00"}),a===15&&v.push({id:2,title:"Team Meeting",time:"14:00"}),a===25&&v.push({id:3,title:"Project Deadline",time:"17:00"}),v};return ce(()=>{const s=F.value.find(a=>a.isToday&&a.isCurrentMonth);s&&(u.value=s)}),{showLoginModal:e,showRegisterModal:y,searchQuery:b,gridColumns:f,sortBy:_,currentDate:l,selectedDay:u,isLoading:o,weekdays:T,isLoggedIn:I,userName:O,currentCategory:Q,categoryCounts:H,categories:V,currentYear:R,currentMonth:N,currentMonthName:j,calendarDays:F,setCategory:q,clearSearch:z,navigateToCalendar:p,navigateToProfile:A,logout:G,switchToRegister:J,handleLoginSuccess:K,handleRegisterSuccess:X,previousMonth:Z,nextMonth:$,selectDay:ee,formatSelectedDay:oe,hasEventsForDate:B,getEventsForDate:x,sidebarStore:D}}},Me={class:"vue-app"},De={class:"main-content"},be={class:"content-area"},fe={class:"calendar-view"},_e={class:"calendar-header"},Ce=["disabled"],we={class:"month-year-display"},ke={class:"month-name"},Le={class:"year"},Te=["disabled"],Re={class:"calendar-container"},Ne={class:"calendar-grid"},Fe=["onClick"],Be={class:"day-number"},xe={key:0,class:"event-indicator"},Ee={key:0,class:"selected-day-info"},We={class:"day-events"},Ye={key:0,class:"no-events"},Pe={key:1,class:"events-list"},Ue={class:"event-time"},Ie={class:"event-title"};function Oe(L,t,D,e,y,b){const f=M("Sidebar"),_=M("MainHeader"),l=M("LoginModal"),u=M("RegisterModal");return r(),c("div",Me,[n("div",{class:U(["mobile-overlay",{show:e.sidebarStore.mobileOpen}]),onClick:t[0]||(t[0]=(...o)=>e.sidebarStore.closeMobileSidebar&&e.sidebarStore.closeMobileSidebar(...o))},null,2),Y(f,{collapsed:e.sidebarStore.collapsed,"mobile-open":e.sidebarStore.mobileOpen,"is-logged-in":e.isLoggedIn,"user-name":e.userName,"current-category":e.currentCategory,"category-counts":e.categoryCounts,categories:e.categories,onToggle:e.sidebarStore.toggleSidebar,onSetCategory:e.setCategory,onNavigateToCalendar:e.navigateToCalendar,onNavigateToProfile:e.navigateToProfile,onShowLogin:t[1]||(t[1]=o=>e.showLoginModal=!0),onShowRegister:t[2]||(t[2]=o=>e.showRegisterModal=!0),onLogout:e.logout},null,8,["collapsed","mobile-open","is-logged-in","user-name","current-category","category-counts","categories","onToggle","onSetCategory","onNavigateToCalendar","onNavigateToProfile","onLogout"]),n("div",De,[Y(_,{"search-query":e.searchQuery,"onUpdate:searchQuery":t[3]||(t[3]=o=>e.searchQuery=o),"grid-columns":e.gridColumns,"onUpdate:gridColumns":t[4]||(t[4]=o=>e.gridColumns=o),"sort-by":e.sortBy,"onUpdate:sortBy":t[5]||(t[5]=o=>e.sortBy=o),onToggleMobileSidebar:e.sidebarStore.toggleMobileSidebar,onClearSearch:e.clearSearch},null,8,["search-query","grid-columns","sort-by","onToggleMobileSidebar","onClearSearch"]),n("main",be,[n("div",fe,[n("div",_e,[n("button",{class:"month-nav-btn",onClick:t[6]||(t[6]=(...o)=>e.previousMonth&&e.previousMonth(...o)),disabled:e.isLoading},[...t[10]||(t[10]=[n("span",{class:"nav-icon"},"‹",-1)])],8,Ce),n("div",we,[n("h2",ke,h(e.currentMonthName),1),n("span",Le,h(e.currentYear),1)]),n("button",{class:"month-nav-btn",onClick:t[7]||(t[7]=(...o)=>e.nextMonth&&e.nextMonth(...o)),disabled:e.isLoading},[...t[11]||(t[11]=[n("span",{class:"nav-icon"},"›",-1)])],8,Te)]),n("div",Re,[n("div",Ne,[(r(!0),c(w,null,k(e.weekdays,o=>(r(),c("div",{class:"weekday-header",key:o},h(o),1))),128)),(r(!0),c(w,null,k(e.calendarDays,o=>(r(),c("div",{key:`${o.date}-${o.month}`,class:U(["calendar-day",{"other-month":!o.isCurrentMonth,today:o.isToday,weekend:o.isWeekend,"has-events":o.hasEvents}]),onClick:T=>e.selectDay(o)},[n("span",Be,h(o.day),1),o.hasEvents?(r(),c("div",xe,[...t[12]||(t[12]=[n("div",{class:"event-dot"},null,-1)])])):S("",!0)],10,Fe))),128))])]),e.selectedDay?(r(),c("div",Ee,[n("h3",null,h(e.formatSelectedDay(e.selectedDay)),1),n("div",We,[!e.selectedDay.events||e.selectedDay.events.length===0?(r(),c("p",Ye," No events scheduled for this day ")):(r(),c("div",Pe,[(r(!0),c(w,null,k(e.selectedDay.events,o=>(r(),c("div",{key:o.id,class:"event-item"},[n("span",Ue,h(o.time),1),n("span",Ie,h(o.title),1)]))),128))]))])])):S("",!0)])])]),e.showLoginModal?(r(),P(l,{key:0,onClose:t[8]||(t[8]=o=>e.showLoginModal=!1),onSwitchToRegister:e.switchToRegister,onLoginSuccess:e.handleLoginSuccess},null,8,["onSwitchToRegister","onLoginSuccess"])):S("",!0),e.showRegisterModal?(r(),P(u,{key:1,onClose:t[9]||(t[9]=o=>e.showRegisterModal=!1),onRegisterSuccess:e.handleRegisterSuccess},null,8,["onRegisterSuccess"])):S("",!0)])}const je=le(Se,[["render",Oe],["__scopeId","data-v-1c2be1fd"]]);export{je as default};
